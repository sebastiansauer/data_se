---
title: 'Help me help you: Wie man ein R-Problem so formuliert, dass einem geholfen
  werden kann'
author: Sebastian Sauer
draft: FALSE
date: '2020-09-23'
slug: help-me-help-you-wie-man-ein-r-problem-so-formuliert-dass-einem-geholfen-werden-kann
categories:
  - rstats
tags:
  - German
  - teaching
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="hier-werden-sie-geholfen-oder-doch-nicht" class="section level1">
<h1>Hier werden Sie geholfen – oder doch nicht?</h1>
<p>Die Hausarbeit zur Datenanalyse mit R muss morgen abend abgegeben werden – und nichts läuft! Wer kennt das nicht?! Der knurrige Dozent hat die Abgabefrist wieder viel zu knapp bemessen, warum auch immer. Was ist jetzt zu tun? Nach <del>3</del> <del>13</del> <del>30</del> <del>60</del> Minuten eigenen – erfolglosen – Tüftelns will man jetzt den Dozenten um Hilfe fragen.</p>
<p>Man schreibt also: “Lieber Herr Süß, R läuft nicht, was soll ich tun?”. Seltsamerweise reagiert der Dozent nicht wahnsinnig hilfsbereit. Er murmelt etwas von genaueren Infos, die er benötige. Also schicken Sie einen Screenshot hinterher, der eine Fehlermeldung zeigt. Jetzt beschwert er sich (schon wieder), dass er aus dem Screenshot abtippen müsste. Also gut, dann schicken Sie halt noch eine Mail mit der betreffenden Zeile R-Syntax. Allerdings: Wieder rückfragen: Welche Pakete Sie geladen hätten? Das haben Sie noch gar nicht gesagt (welche Pakete waren eigentlich geladen bzw. nicht geladen? Ohje, das könnte dann doch der Fehler sein …). Schon wieder eine Mail hin und her. Kurz fragen Sie sich, wenn das alle 300 Studierende so machen, ob das den Dozenten nicht ganz schön auf Trab hält?</p>
<p>Mal kurz aus Dozentensicht: Die Geschichte oben ist nicht sonderlich befriedigend. Wenn Sie jemanden um Hilfe bitten, dann sollten Sie dieser Person nicht unnötig Arbeit aufbürden. Im Klartext: Sie müssen alle Informationen bereitstellen, die der “R-Doktor” für seine Diagnose braucht. Außerdem sollten Sie alle <em>unnötigen</em> Informationen weglassen – also keinen R-Code übermitteln, der für das Problem ohne Relevanz ist.</p>
<p>Kurz gesagt: <strong>Schicken Sie dem Dozenten ein MINIMALES, LAUFFÄHIGE, R- oder RMD-Skript</strong>.</p>
<p><a href="https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example">Das fürht zu diesen Kriterien</a>:</p>
<ol style="list-style-type: decimal">
<li><p>Minimaler Datensatz, so klein wie möglich</p></li>
<li><p>Minimaler R-Code, der nötig ist, dass Problem zu demonstrieren.</p></li>
<li><p>Hinweise zu geladenen Paketen und weiteren technischen Spezifikationen.</p></li>
</ol>
</div>
<div id="erbie" class="section level1">
<h1>ERBie</h1>
<p>In <a href="https://www.springer.com/de/book/9783658215866">meinem R-Buch</a> nenne ich solche R-Syntax-Beispiele <strong>Erbies</strong>, für <strong>E</strong>infache, <strong>r</strong>eproduzierbare (nachprüfbare) <strong>B</strong>eispiele. Lesen Sie dort (Kap. 3.8) zu weiteren Details nach.</p>
<p>Schauen wir uns das etwas im Detail an:</p>
</div>
<div id="kriteriumm-1-minimaler-datensatz-so-klein-wie-möglich" class="section level1">
<h1>Kriteriumm 1: Minimaler Datensatz, so klein wie möglich</h1>
<p>Ein einfache Möglichkeit ist es, “einbaute” Datensätze zu verwenden, etwa <code>mtcars</code>:</p>
<pre class="r"><code>data(mtcars)
str(mtcars)
#&gt; &#39;data.frame&#39;:    32 obs. of  11 variables:
#&gt;  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
#&gt;  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
#&gt;  $ disp: num  160 160 108 258 360 ...
#&gt;  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
#&gt;  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
#&gt;  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
#&gt;  $ qsec: num  16.5 17 18.6 19.4 17 ...
#&gt;  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
#&gt;  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
#&gt;  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
#&gt;  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<p>Alternativ könnten Sie auch den Datensatz <code>tips</code> nutzen. Komfortabel ist, dass Sie ihn so herunterladen können:</p>
<pre class="r"><code>tips &lt;- read.csv(&quot;https://data-se.netlify.app/download/tips.csv&quot;)</code></pre>
</div>
<div id="kriterium-2-minimaler-r-code-der-nötig-ist-dass-problem-zu-demonstrieren." class="section level1">
<h1>Kriterium 2: Minimaler R-Code, der nötig ist, dass Problem zu demonstrieren.</h1>
<p>Übermitteln Sie <em>nur</em> den nötigen R-Code für Ihr Problem: Lassen Sie <em>keinen benötigten</em> R-Code weg, aber fügen Sie <em>nicht</em> unnötigen (für Ihr Problem unnötigen!) R-Code hinzu.</p>
<p>Vergessen Sie nicht, die nötigen Pakete vorab zu laden, etwa so:</p>
<pre class="r"><code>library(mosaic)
library(tidyverse)</code></pre>
</div>
<div id="kriterium-3-hinweise-zu-geladenen-paketen-und-weiteren-technischen-spezifikationen." class="section level1">
<h1>Kriterium 3: Hinweise zu geladenen Paketen und weiteren technischen Spezifikationen.</h1>
<p>Dieses Kriterium ist einfach erledigt, wenn Sie zum Schluss in Ihrer Syntax diesen Befehl anfügen:</p>
<pre class="r"><code>sessionInfo()
#&gt; R version 4.0.2 (2020-06-22)
#&gt; Platform: x86_64-apple-darwin17.0 (64-bit)
#&gt; Running under: macOS Catalina 10.15.6
#&gt; 
#&gt; Matrix products: default
#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
#&gt; 
#&gt; locale:
#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
#&gt; 
#&gt; attached base packages:
#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     
#&gt; 
#&gt; other attached packages:
#&gt;  [1] mosaic_1.7.0      Matrix_1.2-18     mosaicData_0.18.0 ggformula_0.9.4  
#&gt;  [5] ggstance_0.3.4    lattice_0.20-41   forcats_0.5.0     stringr_1.4.0    
#&gt;  [9] dplyr_1.0.2       purrr_0.3.4       readr_1.3.1       tidyr_1.1.2      
#&gt; [13] tibble_3.0.3      ggplot2_3.3.2     tidyverse_1.3.0  
#&gt; 
#&gt; loaded via a namespace (and not attached):
#&gt;  [1] ggrepel_0.8.2     Rcpp_1.0.5        lubridate_1.7.9   assertthat_0.2.1 
#&gt;  [5] digest_0.6.25     ggforce_0.3.2     R6_2.4.1          cellranger_1.1.0 
#&gt;  [9] backports_1.1.9   reprex_0.3.0      evaluate_0.14     httr_1.4.2       
#&gt; [13] blogdown_0.20     pillar_1.4.6      rlang_0.4.7       lazyeval_0.2.2   
#&gt; [17] readxl_1.3.1      rstudioapi_0.11   blob_1.2.1        rmarkdown_2.3    
#&gt; [21] splines_4.0.2     htmlwidgets_1.5.1 polyclip_1.10-0   munsell_0.5.0    
#&gt; [25] broom_0.7.0       compiler_4.0.2    modelr_0.1.8      xfun_0.16        
#&gt; [29] pkgconfig_2.0.3   htmltools_0.5.0   tidyselect_1.1.0  gridExtra_2.3    
#&gt; [33] mosaicCore_0.6.0  bookdown_0.20     codetools_0.2-16  fansi_0.4.1      
#&gt; [37] crayon_1.3.4      dbplyr_1.4.4      withr_2.2.0       MASS_7.3-52      
#&gt; [41] grid_4.0.2        jsonlite_1.7.0    gtable_0.3.0      lifecycle_0.2.0  
#&gt; [45] DBI_1.1.0         magrittr_1.5      scales_1.1.1      cli_2.0.2        
#&gt; [49] stringi_1.4.6     farver_2.0.3      fs_1.5.0          leaflet_2.0.3    
#&gt; [53] xml2_1.3.2        ggdendro_0.1.21   ellipsis_0.3.1    generics_0.0.2   
#&gt; [57] vctrs_0.3.4       tools_4.0.2       glue_1.4.2        tweenr_1.0.1     
#&gt; [61] crosstalk_1.1.0.1 hms_0.5.3         yaml_2.2.1        colorspace_1.4-1 
#&gt; [65] rvest_0.3.6       knitr_1.29        haven_2.3.1</code></pre>
</div>
<div id="tipp-wie-man-trotz-fehler-ein-rmd-skript-zum-laufen-kriegt" class="section level1">
<h1>Tipp: Wie man trotz Fehler ein Rmd-Skript zum Laufen kriegt</h1>
<p>Wenn Sie einen Fehler im Skript haben, können Sie auf einfache Weise R dazu bringen, das Rmd-Skript trotzdem durchlaufen zu lassen. Voraussetzung ist natürlich, dass der Fehler nicht an späterer Stelle noch alles mögliche kaputt macht, so dass das Durchlaufen gar keinen Sinn machen würde.</p>
<p>Das Zauberwort heißt <code>error = TRUE</code>; diesen Zusatz fügen Sie in den R-Chunk ein, der Ihnen ein Problem macht. Sagen wir, Sie haben diesen nervigen R-Chunk mit Fehler, der dazu führt, dass Ihr Code nicht durchläuft:</p>
<pre class="r"><code>favstats(  hp, data = mtcars)
#&gt; Error in rlang::is_formula(x): object &#39;hp&#39; not found</code></pre>
<p>Nur der HeRRR-Gott weiß, was hier schon wieder nicht passt ?!</p>
<p>Nehmen Sie also diesen R-Chunk:</p>
<pre class="r"><code>
#```{r}
#favstats(  hp, data = mtcars)
#```
</code></pre>
<p>Und ergänzen Sie in der geschweiften Klammer den Parameter <code>error=TRUE</code>:</p>
<pre class="r"><code>
#```{r error = TRUE}
#favstats(  hp, data = mtcars)
#```
</code></pre>
<p>Dann wird R einfach eine Fehlermeldung drucken, aber danach brav weiter gehen, um die nächste R-Stelle auszuführen.</p>
</div>
<div id="beispiel-für-ein-erbie" class="section level1">
<h1>Beispiel für ein ERBIE</h1>
<pre class="r"><code>data(mtcars)

d_kurz &lt;- select(mtcars, hp, am)

favstats(hp ~ am, dataset = d_kurz)  # hier kommt der Fehler!
#&gt; Error in eval(x, data, env): object &#39;hp&#39; not found

sessionInfo()
#&gt; R version 4.0.2 (2020-06-22)
#&gt; Platform: x86_64-apple-darwin17.0 (64-bit)
#&gt; Running under: macOS Catalina 10.15.6
#&gt; 
#&gt; Matrix products: default
#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
#&gt; 
#&gt; locale:
#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
#&gt; 
#&gt; attached base packages:
#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     
#&gt; 
#&gt; other attached packages:
#&gt;  [1] mosaic_1.7.0      Matrix_1.2-18     mosaicData_0.18.0 ggformula_0.9.4  
#&gt;  [5] ggstance_0.3.4    lattice_0.20-41   forcats_0.5.0     stringr_1.4.0    
#&gt;  [9] dplyr_1.0.2       purrr_0.3.4       readr_1.3.1       tidyr_1.1.2      
#&gt; [13] tibble_3.0.3      ggplot2_3.3.2     tidyverse_1.3.0  
#&gt; 
#&gt; loaded via a namespace (and not attached):
#&gt;  [1] ggrepel_0.8.2     Rcpp_1.0.5        lubridate_1.7.9   assertthat_0.2.1 
#&gt;  [5] digest_0.6.25     ggforce_0.3.2     R6_2.4.1          cellranger_1.1.0 
#&gt;  [9] backports_1.1.9   reprex_0.3.0      evaluate_0.14     httr_1.4.2       
#&gt; [13] blogdown_0.20     pillar_1.4.6      rlang_0.4.7       lazyeval_0.2.2   
#&gt; [17] readxl_1.3.1      rstudioapi_0.11   blob_1.2.1        rmarkdown_2.3    
#&gt; [21] splines_4.0.2     htmlwidgets_1.5.1 polyclip_1.10-0   munsell_0.5.0    
#&gt; [25] broom_0.7.0       compiler_4.0.2    modelr_0.1.8      xfun_0.16        
#&gt; [29] pkgconfig_2.0.3   htmltools_0.5.0   tidyselect_1.1.0  gridExtra_2.3    
#&gt; [33] mosaicCore_0.6.0  bookdown_0.20     codetools_0.2-16  fansi_0.4.1      
#&gt; [37] crayon_1.3.4      dbplyr_1.4.4      withr_2.2.0       MASS_7.3-52      
#&gt; [41] grid_4.0.2        jsonlite_1.7.0    gtable_0.3.0      lifecycle_0.2.0  
#&gt; [45] DBI_1.1.0         magrittr_1.5      scales_1.1.1      cli_2.0.2        
#&gt; [49] stringi_1.4.6     farver_2.0.3      fs_1.5.0          leaflet_2.0.3    
#&gt; [53] xml2_1.3.2        ggdendro_0.1.21   ellipsis_0.3.1    generics_0.0.2   
#&gt; [57] vctrs_0.3.4       tools_4.0.2       glue_1.4.2        tweenr_1.0.1     
#&gt; [61] crosstalk_1.1.0.1 hms_0.5.3         yaml_2.2.1        colorspace_1.4-1 
#&gt; [65] rvest_0.3.6       knitr_1.29        haven_2.3.1</code></pre>
<p>Das ist ein ERbie:</p>
<ul>
<li><em>einfach</em>: kein unnötiger Code, wenig Daten, alles einfach gehalten</li>
<li>*reproduzierbar: alle wesentlichen Infos sind enthalten – der Empfänger kann den Code durchlaufen lassen</li>
</ul>
</div>
<div id="keine-screenshots-mit-r-code" class="section level1">
<h1>Keine Screenshots mit R-Code</h1>
<p>Screenshots zwingen die Person, die Ihnen helfen will, den Code unnötigerweise abzutippen. Sie erzeugen unnötige Arbeit für jemanden, der Ihnen helfen will. Das ist nicht gerade höflich.</p>
<p>Frage: “Aber wie kriege ich die R-Ausgabe ohne Screenshots, sondern als Text produziert?”</p>
<p>Antwort: Erzeugen Sie ein Rmd-Dokument oder nutzen Sie die <a href="https://reprex.tidyverse.org/">Reprex</a>-Technik. <a href="/https://speakerdeck.com/jennybc/reprex-reproducible-examples-with-r">Hier</a> ist ein schöner Vortrag der Autorin, Jenny Bryan, dazu.</p>
</div>
<div id="reprex" class="section level1">
<h1>Reprex</h1>
<p>Das R-Paket <code>reprex</code> (<a href="https://reprex.tidyverse.org/">Reprex</a>) hilft Ihnen, ERBIEs zu erstellen. Es ist eine Alternative zu einer Rmd-Datei.</p>
</div>
<div id="messlatte-ich-kann-ihren-code-copy-pasten" class="section level1">
<h1>Messlatte: Ich kann Ihren Code copy-pasten</h1>
<p>Die Messlatte ist: Ich kann Ihren Code copy-pasten und alles läuft – nur an der einen Stelle, wo Sie nicht weiterkommen, wird ein Fehler angezeigt.</p>
</div>
<div id="informationen-an-den-retter-außerhalb-des-r-codes" class="section level1">
<h1>Informationen an den Retter, außerhalb des R-Codes</h1>
<p>Wenn Sie eine Person anschreiben, von der Sie Hilfe erwarten, sollten Sie neben dem R-Code noch ein paar Sachen dazu schreiben:</p>
<ul>
<li>Das habe ich schon probiert, …</li>
<li>Diese ähnlichen Beispiele habe ich gefunden, aber Sie passen nicht …</li>
<li>Ich vermute, es könnte an … liegen</li>
<li>Fügen Sie einen aussagekräften Titel hinzu.</li>
</ul>
</div>
<div id="stack-overflow-der-ort-für-hier-werden-sie-geholfen" class="section level1">
<h1><a href="https://stackoverflow.com/">Stack Overflow</a> der Ort für “Hier-werden-Sie-geholfen”</h1>
<p>Der bekannteste Ort, um Hilfe bei Programmierproblemen (wie R) zu bekommen, ist das Forum <a href="https://stackoverflow.com/">Stackoverflow</a>. Natürlich gelten dort die gleichen (bzw. ähnlichen) Regeln wie die, ich gerade hier formuliert habe. Sie finden entsprechende Hinweise <a href="https://stackoverflow.com/help/how-to-ask">hier</a> oder <a href="https://stackoverflow.com/help/minimal-reproducible-example">hier</a>.</p>
</div>
<div id="eine-bitte-zum-schluss-erst-selber-probieren" class="section level1">
<h1>Eine Bitte zum Schluss: Erst selber probieren</h1>
<p>Nennen wir es die 30-Minuten-Schlaf-drüber-10-Webseiten-Regel. Bevor Sie jemanden um Hilfe bitten, sollten Sie sich ernsthaft selber bemüht haben:</p>
<ol style="list-style-type: decimal">
<li>Sie haben mindestens 30 Minuten ernsthaft über das Problem nachgedacht.</li>
<li>Sie haben eine Nacht drüber geschlafen. (Es ist erstaunlich, wie viele Probleme sich mit etwas Abstand auf einmal scheinbar von alleine lösen.)</li>
<li>Sie haben auf mindestens 10 Webseiten recherchiert, wie man das Problem lösen könnte</li>
</ol>
</div>
<div id="ps-hey-so-ein-erbie-ist-echt-viel-aufwand" class="section level1">
<h1>PS: “Hey, so ein ERBIE ist echt viel Aufwand!”</h1>
<p>Ja, das stimmt. Aber der <em>insgesamte</em> Aufwand sinkt. Außerdem bitten Sie eine andere Person, dass diese für Sie Zeit investiert, um Ihre Probleme zu lösen. Da sollten Sie dieser “Hilfskraft” ein Stück entgegenkommen, das ist nur fair.</p>
</div>

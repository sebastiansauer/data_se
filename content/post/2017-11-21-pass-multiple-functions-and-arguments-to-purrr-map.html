---
title: Pass multiple functions and arguments to purrr::map
author: Sebastian Sauer
date: '2017-11-21'
draft: TRUE
slug: pass-multiple-functions-and-arguments-to-purrr-map
categories:
  - rstats
tags:
  - rstats
  - tidyverse
---



<p>I just run in the following problem: I wanted to <code>map</code> <em>multiple functions</em> to multiple columns, and I needed to pass some arguments to this <code>map</code> call. Sound theoretical, I know. Consider this example:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────── tidyverse 1.2.1 ──</code></pre>
<pre><code>## ✔ ggplot2 2.2.1.9000     ✔ purrr   0.2.4     
## ✔ tibble  1.4.2          ✔ dplyr   0.7.4     
## ✔ tidyr   0.8.0          ✔ stringr 1.3.1     
## ✔ readr   1.1.1          ✔ forcats 0.3.0</code></pre>
<pre><code>## ── Conflicts ────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<p>Build a vector of functions:</p>
<pre class="r"><code>funs &lt;- purrr::compose(median, mean, sd, IQR)</code></pre>
<p>And apply this composed function to each column of a dataframe:</p>
<pre class="r"><code>mtcars[1:2]%&gt;% 
  map(funs, na.rm = TRUE)</code></pre>
<pre><code>## $mpg
## [1] NA
## 
## $cyl
## [1] NA</code></pre>
<pre class="r"><code>mtcars %&gt;% 
  map(funs, na.rm = TRUE)</code></pre>
<pre><code>## $mpg
## [1] NA
## 
## $cyl
## [1] NA
## 
## $disp
## [1] NA
## 
## $hp
## [1] NA
## 
## $drat
## [1] NA
## 
## $wt
## [1] NA
## 
## $qsec
## [1] NA
## 
## $vs
## [1] NA
## 
## $am
## [1] NA
## 
## $gear
## [1] NA
## 
## $carb
## [1] NA</code></pre>

<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Inferenzstatistik mit Simulationstechniken</title>
    <meta charset="utf-8" />
    <meta name="author" content="Sebastian Sauer" />
    <script src="libs/header-attrs-2.2/header-attrs.js"></script>
    <link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link rel="stylesheet" href="footer-header.css" type="text/css" />
    <link rel="stylesheet" href="xafom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: middle, right, title-slide

# Inferenzstatistik mit Simulationstechniken
## Kurzufassung
### Sebastian Sauer

---




layout: true
  
&lt;div class="my-header"&gt;&lt;/div&gt;

&lt;!-- the following lines define the header and the footer line: --&gt;
&lt;div class="my-header"&gt;&lt;/div&gt;

&lt;!-- the following lines define the header and the footer line: --&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;    
&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&lt;/span&gt;&lt;/div&gt; 

&lt;div class="footer-line"&gt;&lt;/div&gt;









&lt;!-- Define an automatic count for header 1/2/exercises --&gt;


---


## Agenda


.right-column[
.vcenter[

### .grey[1]. Wozu  Simulationstechniken?

### .grey[2]. Der Biertest -- Konfidenzintervall

### .grey[3]. Der Pringels-Test -- Hypothesen testen, Teil 1 

### .grey[4]. Die L√§chelstudie -- Hypothesen testen, Teil 2

### .grey[5]. Fazit

]
]


---



class: section

# .grey.xlarge[1] Wozu Simulationstechniken?


---


## Simu ... was?


&lt;/br&gt;
&lt;/br&gt;

### Simulationstechniken in der Datenanalyse nutzen die Stichprobendaten, um inferenzstatistische Schl√ºsse zu ziehen.


.pull-left[

### *Didaktiver* Nutzen:

A) weniger abstrakt

B) EIN Verfahren f√ºr (fast) alle Situationen
]


.pull-right[

### *Inhaltlicher* Nutzen

A) Manchmal pr√§ziser

B) Manchmal gibt es keine andere M√∂glichkeit]


---


## Verteilungsbasiert       vs. simulationsbasiert


&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

&lt;img src="img/simu-vs-analyse-1.png" width="90%" style="display: block; margin: auto;" /&gt;


---

## Verteilungsannahmen

### ... k√∂nnen falsch sein


&lt;img src="img/bootstrap-percent-data.png" width="70%" style="display: block; margin: auto;" /&gt;


.footnote[Rousselet, G. A., Pernet, C. R., &amp; Wilcox, R. R. (2019). A practical introduction to the bootstrap: A versatile method to make inferences by using data-driven simulations [Preprint]. PsyArXiv. https://doi.org/10.31234/osf.io/h8ft7]


---





class: section

# .grey.xlarge[2] Der Biertest -- Konfidenzintervall

### .grey[Live-Experiment: Biersorte erschmecken]





---

## Erschmecke das "Biligbier"

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
.center[
<i class="fas  fa-beer fa-5x " style="color:#00998a;"></i> &amp;emsp; &amp;emsp;
<i class="fas  fa-beer fa-5x " style="color:#00998a;"></i> &amp;emsp; &amp;emsp;
<i class="fas  fa-beer fa-5x " style="color:#D3D3D3;"></i> 
]





---



## Du hast die Wahl


&lt;img src="img/Lidl-WR20160919.png" width="50%" style="display: block; margin: auto;" /&gt;

Im Rahmen des ~~normalen Unterrichts~~ einer Sonderveranstaltung der FOM wurde der Versuch durchgef√ºhrt:

- `\(n=34\)` Versuchspersonen&lt;sup&gt;*&lt;/sup&gt;
- `\(x=12\)` Treffer


.footnote[&lt;sup&gt;*&lt;/sup&gt; Selbstloser Einsatz f√ºr die Wissenschaft]

---


class:middle, right

## OK, kein Bier, nur Pringels

---


## Ablauf: Schmeck den Pringel heraus!


.left-column[
&lt;/br&gt;
&lt;/br&gt;



<i class="fas  fa-cookie fa-5x " style="color:#00998a;"></i> &amp;emsp; &amp;emsp;


<i class="fas  fa-cookie fa-5x " style="color:#00998a;"></i> &amp;emsp; &amp;emsp;


<i class="fas  fa-cookie fa-5x " style="color:#D3D3D3;"></i> 


]


.right-column[


&lt;/br&gt;
&lt;/br&gt;

1. Je zwei Personen, `\(A\)` und `\(B\)` finden sich in P√§rchen

3. `\(A\)` w√§hlt 1 Pringel-Chip und 2 Noname-Chips 

2. `\(A\)` reicht `\(B\)` nacheinander die 3 Chips in zuf√§lliger Reihenfolge, `\(B\)` hat dabei die Augen geschlossen

3. `\(B\)` entscheidet sich, welcher Chips vermutlich der Pringle-Chip ist

5. Das Ergebnis (Treffer ja/nein) kann hier eingetragen werden: https://forms.gle/w1bUMGvdDofadih68

6. Bitte notieren Sie das Ergebnis (Treffer ja/nein) auch auf einen Zettel (den zusammenfalten)



]

Barcode zum Link:

&lt;img src="img/barcode.png" width="80%" style="display: block; margin: auto;" /&gt;


---


## Was ist der wahre Erschmecker-Anteil?





.pull-left[

### Anteil Stichprobe: 12/34

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

&lt;img src="SBI-Kurzfassung_files/figure-html/waffle1-1.png" width="70%" style="display: block; margin: auto;" /&gt;




]

.pull-right[

### Anteil in Population der FOM-Profs???


&lt;img src="SBI-Kurzfassung_files/figure-html/normal1-1.png" width="70%" height="200px" style="display: block; margin: auto;" /&gt;



]


---

## Idee 1: Wir testen alle FOM-Profs!

.pull-left[



![](img/de-plot.png)

]


.pull-right[

&lt;/br&gt;

![](https://media.giphy.com/media/QMHz8SMCgf50jaEFq4/giphy.gif)


### super. Dauert aber.
]

---


## Idee 2: Wir wiederholen der Versuch oft!



&lt;/br&gt;

### z.B. 100 Mal:





&lt;img src="SBI-Kurzfassung_files/figure-html/plot-stiprovert-1.png" width="70%" style="display: block; margin: auto;" /&gt;



### super. Dauert aber.






---

## Idee 3: Der M√ºnchhausen-Trick


&lt;/br&gt;
&lt;/br&gt;


&lt;img src="SBI-Kurzfassung_files/figure-html/bootstrap-illustration-1.png" width="70%" style="display: block; margin: auto;" /&gt;

---


## Ziele *viele* Stichproben mit Zur√ºcklegen


### Voila -- Die Bootstrap-Verteilung:





&lt;img src="SBI-Kurzfassung_files/figure-html/bootvtlg-plot-1.png" width="70%" style="display: block; margin: auto;" /&gt;







---

## Auf Errisch geht das so...


.pull-left[


```r
library(mosaic)

# unsere Stichprobe:
stipro &lt;- rep(factor(c("f","r")),
              c(22, 12)) 


# 3 Bootstrap-Stichproben:
boot1 &lt;- mosaic::do(3) * 
  prop( ~ resample(stipro),
        success = "r") 
boot1
#&gt;      prop_r
#&gt; 1 0.3529412
#&gt; 2 0.3823529
#&gt; 3 0.3529412
```


]


.pull-right[


```r
# Histogramm zeichnen:
gf_bar( ~ prop_r, data = Bootvtlg)
```

&lt;img src="SBI-Kurzfassung_files/figure-html/unnamed-chunk-6-1.png" width="100%" style="display: block; margin: auto;" /&gt;


]


---



## Bootstrap-Kochrezept

### Voraussetzungen

- Zufallsstichprobe
- Nicht zu kleine Stichprobe, `\(n\ge35\)`


&lt;/br&gt;
&lt;/br&gt;

### Ablauf

1. Ziehe 1000  Bootstrap-Stichproben

2. Berechne jeweils Statistik (z.B. Anteil)

3. Sortiere die Stichproben nach ihrem Wert

3. Zeichne Histogram

4. Schneide links/rechts jeweils 25 Stichproben ab


---


###  √úbung: Ist 1/3 ein plausibler Wert in der FOM-Prof-Population? 


.xlarge[üèãÔ∏è‚Äç‚ôÄÔ∏è]

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;



```r
boot2 &lt;- mosaic::do(1000) * prop( ~ resample(stipro), success = "r")
confint(boot2)
#&gt;     name     lower     upper level     method  estimate
#&gt; 1 prop_r 0.2058824 0.5294118  0.95 percentile 0.3529412
```


&lt;/br&gt;
&lt;/br&gt;


---


class: section

# .grey.xlarge[3]  Der Pringels-Test -- Hypothesen testen, Teil 1 
### .grey[Echte Pringels kann man nicht rausschmecken (?)]


---


### √úbung: Rate-Wahrscheinlichkeit

&lt;/br&gt;
.xlarge[üèãÔ∏è‚Äç‚ôÄÔ∏è]

&lt;/br&gt;


.left-column[
&lt;/br&gt;
<i class="fas  fa-question-circle fa-5x " style="color:#00998a;"></i>
]



.right-column[
Wie gro√ü ist die Wahrscheinlichkeit `\(\pi\)`, einen Pringel unter drei Proben rein *zuf√§llig*, also durch Raten, herauszuschmecken?



A. `\(\pi = 0\)`

B. `\(\pi = 1/3\)`

C. `\(\pi = 1/2\)`

D. `\(\pi = 2/3\)`

B. `\(\pi = 1\)`

]

---

## "Pringels kann man nicht rausschmecken!"

&lt;/br&gt;
&lt;/br&gt;
.pull-left[

&lt;iframe src="https://giphy.com/embed/wYyTHMm50f4Dm" width="480" height="277" frameBorder="0" class="giphy-embed" allowFullScreen&gt;&lt;/iframe&gt;&lt;p&gt;&lt;a href="https://giphy.com/gifs/mrw-oc-asks-wYyTHMm50f4Dm"&gt;via GIPHY&lt;/a&gt;&lt;/p&gt;

]


.pull-right[


&lt;/br&gt;



`\(H_0: \pi \le 1/3\)`.

`\(H_A: \pi &gt; 1/3\)`.


]


---


## Angenommen, Pringels schmecken genau wie NoName-Chips 

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

.pull-left[


.center[
<i class="fas  fa-beer fa-5x " style="color:#00998a;"></i> &amp;emsp; &amp;emsp;
<i class="fas  fa-beer fa-5x " style="color:#00998a;"></i> &amp;emsp; &amp;emsp;
<i class="fas  fa-beer fa-5x " style="color:#D3D3D3;"></i> 
]

]


.pull-right[

### dann: Trefferchance =  1/3
]
&lt;/br&gt;
&lt;/br&gt;

&lt;/br&gt;
&lt;/br&gt;





---


## Stellen wir den Versuch anhand von M√ºnzw√ºrfen nach



### Werfen wir *eine* gezinkte M√ºnze (Trefferquote 1/3):


```r
rflip(prob = 1/3)
#&gt; 
#&gt; Flipping 1 coin [ Prob(Heads) = 0.333333333333333 ] ...
#&gt; 
#&gt; T
#&gt; 
#&gt; Number of Heads: 0 [Proportion Heads: 0]
```



### Jetzt `\(n=34\)` gezinkte M√ºnzen:



```r
rflip(n = 34, prob = 1/3)
#&gt; 
#&gt; Flipping 34 coins [ Prob(Heads) = 0.333333333333333 ] ...
#&gt; 
#&gt; T T T T T T T T H T H T T H H T T H H T H H T T H T H T T T T T T T
#&gt; 
#&gt; Number of Heads: 10 [Proportion Heads: 0.294117647058824]
```


---

### Wir simulieren den Versuch ~~oft~~ ein paar Mal



```r
rflip(n = 34, prob = 1/3)
#&gt; 
#&gt; Flipping 34 coins [ Prob(Heads) = 0.333333333333333 ] ...
#&gt; 
#&gt; T H T H T T H T T T T H T T T T T T H H H T H H T T H T H H T T H T
#&gt; 
#&gt; Number of Heads: 13 [Proportion Heads: 0.382352941176471]
rflip(n = 34, prob = 1/3)
#&gt; 
#&gt; Flipping 34 coins [ Prob(Heads) = 0.333333333333333 ] ...
#&gt; 
#&gt; T H H T T T T T T H H T H H T H H T T T T T T H T T T T H T H T H H
#&gt; 
#&gt; Number of Heads: 13 [Proportion Heads: 0.382352941176471]
```

...

---

## Wir erzeugen 1000 Rate-Stichproben



```r
Nullvtlg &lt;- mosaic::do(10000) * rflip(n = 34, prob = 1/3)
gf_bar( ~ heads, data = Nullvtlg )
```

&lt;img src="SBI-Kurzfassung_files/figure-html/unnamed-chunk-11-1.png" width="70%" style="display: block; margin: auto;" /&gt;


---


## Die Blaupause eines (jeden) statistisches Tests

&lt;/br&gt;
&lt;/br&gt;

&lt;/br&gt;
&lt;/br&gt;
&lt;img src="https://lh4.googleusercontent.com/Bud31guq0w0FvylY57VMR0zHkYqxIpYAfOqgZietyvv1n2ToNEHwHKZWYix8pwct8kDKsZKiwvOWm6PIFEL3gBIQmbakQYHwVT02nn9_H8Fht_zaSBlrRNcqwZa950Vb5nt-5B84" width="90%" style="display: block; margin: auto;" /&gt;




---

## p-Wert

### p-Wert: Anteil der Stichproben mit mindestens 12 Treffer:


.pull-left[


```r
gf_bar( ~ heads, 
        data = Nullvtlg)
```
]


.pull-right[
&lt;img src="SBI-Kurzfassung_files/figure-html/muenze-null-graph-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]




```r
prop( ~ heads &gt;= 12, 
      data = Nullvtlg)
#&gt; prop_TRUE 
#&gt;    0.4644
```


---


## Als sehr, sehr wichtig


&lt;img src="https://i.imgflip.com/22q4jc.jpg" width="40%" style="display: block; margin: auto;" /&gt;




&lt;/br&gt;
### ... wird der p-Wert von vielen erachtet.





---


## Die Daten sind plausibel unter der Nullhypothese.



.pull-left[

&lt;img src="SBI-Kurzfassung_files/figure-html/unnamed-chunk-16-1.png" width="90%" style="display: block; margin: auto;" /&gt;


]


.pull-right[

&lt;/br&gt;
&lt;/br&gt;

### Die Daten sind mit der `\(H_0\)` kompatibel.

&lt;/br&gt;
&lt;/br&gt;


]


&lt;/br&gt;
&lt;/br&gt;


### Wir k√∂nnen die Nullhypothese also nicht ablehnen.


---

## p-Wert: Eine gute Geschichte

### ... verdient, aufgebauscht zu werden (?)



&lt;img src="https://imgs.xkcd.com/comics/p_values_2x.png" width="30%" style="display: block; margin: auto;" /&gt;



.footnote[[www.xkcd.com/about](xkcd.com) .xsmall[Note: You are welcome to reprint occasional comics pretty much anywhere (presentations, papers, blogs with ads, etc). If you're not outright merchandizing, you're probably fine. Just be sure to attribute the comic to xkcd.com.]]


---


## Forschung √ºber dem 5%-Niveau


.pull-left[

&lt;img src="https://sciences.adelaide.edu.au/sites/default/files/styles/ua_image/public/media/images/2019-06/ronald-fisher-4-uofa.jpg?itok=I9g1VlER" width="50%" style="display: block; margin: auto;" /&gt;

"Mein p-Wert ist der ~~gr√∂√üte~~ kleinste."

[Bildquelle](https://sciences.adelaide.edu.au/sites/default/files/styles/ua_image/public/media/images/2019-06/ronald-fisher-4-uofa.jpg?itok=I9g1VlER)

]

"... some statisticians prefer to supplement or even replace p-values with other approaches. These include methods that emphasize estimation over testing, such as confidence ... intervals ..."


"Good statistical practice ... emphasizes principles of good study design ... , a variety of numerical and graphical summaries of data, understanding of the phenomenon under study, interpretation of results in context, complete reporting and proper logical and quantitative understanding of what data summaries mean."


### ... No single index should substitute for scientific reasoning.


.footnote[Ronald L. Wasserstein &amp; Nicole A. Lazar (2016) The ASA Statement on p-Values: Context, Process, and Purpose, The American Statistician, 70:2, 129-133, DOI: 10.1080/00031305.2016.1154108]


---

## Gott liebt


&lt;/br&gt;
&lt;/br&gt;

### ... 0.051 fast genauso sehr wie 0.049


&lt;/br&gt;
&lt;/br&gt;

### Im √úbrigen ...

&lt;blockquote class="twitter-tweet"&gt;&lt;p lang="en" dir="ltr"&gt;I have no interest in you or your life.&lt;/p&gt;&amp;mdash; God (@TheTweetOfGod) &lt;a href="https://twitter.com/TheTweetOfGod/status/1081033733040271360?ref_src=twsrc%5Etfw"&gt;January 4, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;



.footnote[Gelman, A., &amp; Stern, H. (2006). The Difference Between ‚ÄúSignificant‚Äù and ‚ÄúNot Significant‚Äù is not Itself Statistically Significant. The American Statistician, 60(4), 328‚Äì331. https://doi.org/10.1198/000313006X152649
]
---


class: section

# .grey.xlarge[4]  Die L√§chelstudie -- Hypothesen testen, Teil 2

### .grey[Stimmt L√§cheln nachsichtiger?]


---


## Stimmt L√§cheln nachsichtiger?


.pull-left[
![](https://news.developer.nvidia.com/wp-content/uploads/2017/02/Mona-Lisa-gif.gif)


[Bildquelle](https://news.developer.nvidia.com/this-ai-selfie-transformation-app-can-even-make-mona-lisa-smile/)

]

.pull-right[

### Skeptiker: 
### "L√§cheln bringt doch nichts!"

### `\(H_0: \mu_{\text{L√§cheln}} \le \mu_{\text{Neutral}}\)`

### `\(H_A: \mu_{\text{L√§cheln}} &gt; \mu_{\text{Neutral}}\)`

.footnote[LaFrance, M., &amp; Hecht, M. A. (1995). Why smiles generate leniency. Personality and Social Psychology Bulletin, 21(3), 207-214, https://doi.org/10.1177%2F0146167295213002]

]









---

## Finde den echten Datensatz

.large.green[11] Datens√§tze wurden so simuliert, dass es keinen Unterschied in den Mittelwerten der Populationen gibt, .large.green[1] Datensatz ist echt. 


&lt;img src="SBI-Kurzfassung_files/figure-html/smile-1.png" width="80%" style="display: block; margin: auto;" /&gt;




---

## Angenommen, es g√§be keinen Zusammenhang

### ... von L√§cheln und Nachsichtigkeit. Wie h√§ufig w√§re unser empirischer Wert in diesen Stichproben?



&lt;img src="SBI-Kurzfassung_files/figure-html/smiledot-1.png" width="70%" style="display: block; margin: auto;" /&gt;




---



## Der p-Wert schl√§gt zur√ºck


.pull-left[

&lt;img src="https://sciences.adelaide.edu.au/sites/default/files/styles/ua_image/public/media/images/2019-06/ronald-fisher-4-uofa.jpg?itok=I9g1VlER" width="60%" style="display: block; margin: auto;" /&gt;

"Wer die Definition vergisst, dem t√§ttoviere ich *p-value* auf den Unterarm."



[Bildquelle](https://sciences.adelaide.edu.au/sites/default/files/styles/ua_image/public/media/images/2019-06/ronald-fisher-4-uofa.jpg?itok=I9g1VlER)
]




.pull-right[

&lt;/br&gt;
&lt;/br&gt;
### *Wenn* die Daten aus einer Population stammen, in der die Nullhypothese stimmt, *dann* ist unser empirisches Ergebnis *selten* (unplausibel).

### Auf dieser Basis entscheiden wir uns in diesem Fall, die `\(H_0\)` zu verwerfen (bzw. nicht mehr so stark wie vorher an sie zu glauben).

]


---

## Wie stellt man die Nullverteilung her?

.pull-left[
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

.grey.xlarge[1.]  

## Man reist in ein Land, in dem es keinen Zusammenhang gibt (zwischen L√§cheln und Nachsichtigkeit) und zieht dort viele Stichproben.

&lt;/br&gt;
&lt;/br&gt;
]


.pull-right[

&lt;img src="SBI-Kurzfassung_files/figure-html/unnamed-chunk-20-1.png" width="90%" height="80%" style="display: block; margin: auto;" /&gt;

]

---

## ... Oder man mischt eine Spalte


.pull-left[
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;


.grey.xlarge[2.] 

## Man mischt die Spalte (z.B. UV) durch, so dass der Zusammenhang zwischen der Spalte UV under einer anderen Spalte (AV) aufgel√∂st wird.
]

.pull-right[
&lt;/br&gt;
&lt;/br&gt;
&lt;img src="img/shuffle.001.jpeg" width="100%" style="display: block; margin: auto;" /&gt;

]



---

## So mischt man eine Spalte mit R



```r
Nullvtlg_gesicht &lt;- mosaic::do(100)*diffmean(nachsichtigkeit ~ shuffle(gesicht), 
                             data = Laecheln)
```

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; gesicht &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; gesicht_gemischt &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nachsichtigkeit &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; neutral &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; neutral &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; neutral &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; l√§cheln &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.0 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---

## √úbung: Konsumieren Raucher im Schnitt mehr? (1/3)

### `\(H0: \mu_R = \mu_{NR}\)`
### `\(H_A: \mu_r \ne \mu_{NR}\)`


.pull-left[
Daten laden:


```r
download.file("https://goo.gl/whKjnl", 
              destfile = "tips.csv")
tips &lt;- read.csv2("tips.csv")
```


Nullverteilung berechnen:


```r
library(mosaic)
Nullvtlg_Raucher &lt;- mosaic::do(1000) * 
  diffmean(total_bill ~ shuffle(smoker),
           data = tips)
```

]

.pull-right[

Die ersten paar Werte aus den Stichproben der Nullverteilung:


&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; diffmean &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -1.2006729 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1.5180254 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2.1377989 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.2732657 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1.6922987 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.0890885 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]






---


## √úbung: Konsumieren Raucher im Schnitt mehr? (2/3)


`\(H_0\)`-Verteilung visualisieren:


```r
gf_histogram( ~ diffmean, data = Nullvtlg_Raucher) %&gt;%
gf_vline(xintercept = ~diffmean(total_bill ~ smoker, data = tips))
```


&lt;img src="SBI-Kurzfassung_files/figure-html/unnamed-chunk-28-1.png" width="70%" style="display: block; margin: auto;" /&gt;



---

## √úbung: Konsumieren Raucher im Schnitt mehr? (2/3)


.pull-left[

Empirische Differenz/Wert in der Stichprobe:


```
#&gt; diffmean 
#&gt; 1.568066
```


Anteil der Stichproben, die mind. so gro√ü sind wie der emp. Wert:


```
#&gt; prop_TRUE 
#&gt;     0.099
```

Mal zwei nehmen, da ungerichtete Hypothese:


```
#&gt; prop_TRUE 
#&gt;     0.198
```


]


.pull-right[

&lt;img src="SBI-Kurzfassung_files/figure-html/unnamed-chunk-32-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]




---

class: section

# .grey.xlarge[5] Fazit

### .grey[Wie war das nochmal im Mittelteil?]


---



## Verteilungsbasiert vs. simulationsbasiert

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

&lt;img src="img/simu-vs-analyse-1.png" width="90%" style="display: block; margin: auto;" /&gt;


---





## Drei Varianten von Simulationstechniken

&lt;/br&gt;
&lt;/br&gt;


.xlarge.grey[1.] **Bootstrapping**: Ziehe viele Stichproben mit Zur√ºcklegen aus Originalstichprobe, um Konfidenzintervall zu erhalten

&lt;/br&gt;
&lt;/br&gt;

.xlarge.grey[2.] **Permutationtest**: Testen von Zusammenhangs-/Unterschiedshypothesen


&lt;/br&gt;
&lt;/br&gt;


.xlarge.grey[3.] **Einfache Simulation**: F√ºhre den Versuch oft durch, unter Annahme von `\(H_0\)`

---

## Drei Varianten von Simulationstechniken -- mit R

&lt;/br&gt;
&lt;/br&gt;


.xlarge.grey[1.] **Bootstrapping**: Ziehe viele Stichproben mit Zur√ºcklegen aus Originalstichprobe, um Konfidenzintervall zu erhalten


```r
do(oft) * statistik(y ~ x, data = resample(Daten))
```

&lt;/br&gt;

.xlarge.grey[2.] **Permutationtest**: Testen von Zusammenhangs-/Unterschiedshypothesen




```r
do(oft) * statistik(y ~ shuffle(x), data = Daten)
```
&lt;/br&gt;

.xlarge.grey[3.] **Einfache Simulation**: F√ºhre den Versuch oft durch, unter Annahme von `\(H_0\)`



```r
do(oft) * ziehe_aus_verteilung(n, parameterwerte)
```


---


## √úbersicht Teststatistiken (Auswahl)

&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Y &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; X &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Statistik &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Anteil `\(p\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Verh√§ltnis beobachtet/erwartet: `\(\chi^2\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Verh√§ltnis beobachtet/erwartet": `\(\chi^2\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; NA &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Mittelwert `\(\bar{x}\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Differenz der Anteile `\(p_B-p_A\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Differenz der Mittelwerte `\(\bar{x}_B-\bar{x}_A\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Verh√§ltnis beobachtet/erwartet: `\(\chi^2\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Verh√§ltnis Varianz zwischen/innerhalb der Gruppen: `\(F\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Korrelation oder Regression `\(r \hat{\beta}\)` &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 2cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 14cm; "&gt; Regression `\(\hat{\beta}\)` (logistische oder multinomiale Regression) &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---



### √úbersicht Inferenzverfahren R mosaic (Auswahl)



&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Y &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; X &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; simulationsbasiert &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; konventionell &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; . &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; prop() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; binom.test() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; . &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; xchisq.test() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; xchisq.test() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; . &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; chisq.test() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; chisq.test() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; . &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; mean() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; t.test() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; diffprop() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; prop.test() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; bin√§r &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; diffmean() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; t.test() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; xchisq.test() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; xchisq.test() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; aov() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; aov() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; numeric &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; cor(), lm() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cor.test(), lm() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; kategorial &lt;/td&gt;
   &lt;td style="text-align:left;width: 1.8cm; "&gt; numerisch &lt;/td&gt;
   &lt;td style="text-align:left;width: 5cm; width: 5cm; "&gt; glm(family= 'binomial') &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; glm(family= 'binomial') &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;



---

## Nutzen und Grenzen



&lt;/br&gt;

&lt;/br&gt;

.pull-left[
<i class="fas  fa-plus-square fa-5x " style="color:#00998a;"></i>

- *Ein* Prinzip f√ºr alle g√§ngigen Verfahren

- *Wenige* Voraussetzungen

- *Einfach*, wenig abstrakt

]


.pull-right[
<i class="fas  fa-minus-square fa-5x " style="color:#00998a;"></i>

- Zur *Anschlussf√§higkeit* sollten Namen konventioneller Verfahren (wie *t*-Test) weiterhin gelehrt werden


]


---

## Sinnbild: Bootstrap

&lt;/br&gt;
&lt;/br&gt;

&lt;img src="img/bootstrapping-sinnbild-crop.png" width="70%" style="display: block; margin: auto;" /&gt;

---

## Sinnbild: Zusammenhang zweier Variablen (Permutationstest)


&lt;/br&gt;

&lt;img src="img/shuffle.001.jpeg" width="70%" style="display: block; margin: auto;" /&gt;

---



## Sinnbild: Test auf bestimmten Wert einer Variablen



&lt;img src="img/simu-einfach-crop.png" width="70%" style="display: block; margin: auto;" /&gt;


---


## Fragen, Feedback, Feierlichkeiten?

&lt;/br&gt;
&lt;/br&gt;






.right[
### Sprechen Sie uns an!
<i class="fas  fa-envelope "></i> sebastian.sauer@fom.de

&lt;/br&gt;
&lt;/br&gt;


Diese Folien wurden von Autor*innen der FOM https://www.fom.de/ entwickelt und stehen unter der Lizenz CC-BY-SA-NC 3.0 de: https://creativecommons.org/licenses/by-nc-sa/3.0/de/

]


---


## Technical details









- Last update: 2020-06-26

- Slides built with `xaringan`, based on `rmarkdown`

- Packages: assertthat 0.2.1, backports 1.1.7, blob 1.2.1, broom 0.5.6, cellranger 1.1.0, cli 2.0.2, codetools 0.2-16, colorspace 1.4-1, cowplot 1.0.0, crayon 1.3.4, crosstalk 1.1.0.1, curl 4.3, DBI 1.1.0, dbplyr 1.4.4, digest 0.6.25, dplyr 1.0.0, DT 0.13, ellipsis 0.3.1, emo 0.0.0.9000, evaluate 0.14, extrafont 0.17, extrafontdb 1.0, fansi 0.4.1, farver 2.0.3, forcats 0.5.0, fs 1.4.1, generics 0.0.2, ggdendro 0.1-20, ggforce 0.3.1, ggformula 0.9.4, ggplot2 3.3.1, ggrepel 0.8.2, ggstance 0.3.4, ggthemes 4.2.0, glue 1.4.1, gridExtra 2.3, gtable 0.3.0, haven 2.3.0, highr 0.8, hms 0.5.3, htmltools 0.4.0, htmlwidgets 1.5.1, httr 1.4.1, icon 0.1.0, jsonlite 1.6.1, kableExtra 1.1.0, knitr 1.28, labeling 0.3, lattice 0.20-41, lazyeval 0.2.2, leaflet 2.0.3, lifecycle 0.2.0, lubridate 1.7.9, magrittr 1.5, MASS 7.3-51.6, Matrix 1.2-18, modelr 0.1.8, mosaic 1.7.0, mosaicCore 0.6.0, mosaicData 0.18.0, munsell 0.5.0, nlme 3.1-148, pillar 1.4.4, pkgconfig 2.0.3, plyr 1.8.6, polyclip 1.10-0, purrr 0.3.4, R6 2.4.1, RColorBrewer 1.1-2, Rcpp 1.0.4.6, readr 1.3.1, readxl 1.3.1, reprex 0.3.0, rlang 0.4.6, rmarkdown 2.2, rstudioapi 0.11, Rttf2pt1 1.3.8, rvest 0.3.5, scales 1.1.1, sessioninfo 1.1.1, stringi 1.4.6, stringr 1.4.0, tibble 3.0.1, tidyr 1.1.0, tidyselect 1.1.0, tidyverse 1.3.0, tweenr 1.0.1, vctrs 0.3.0, viridisLite 0.3.0, waffle 1.0.1, webshot 0.5.2, withr 2.2.0, xaringan 0.16, xfun 0.14, xml2 1.3.2, yaml 2.2.1

- For detailed `session_info()` check out this [text file](https://data-se.netlify.com/slides/papers-publizieren/session_info.txt).

- Thanks to  all the open source developers.



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "4:3"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>
<style>
.logo {
  background-image: url(img/logo.jpg);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  width: 70px;
  height: 70px;  
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    ':not(.inverse)' + 
    // add additional classes to exclude here, e.g.
    // ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Crashkurs zur Erstellung von Barplots für Umfrage-Daten</title>
  <meta property="og:title" content="Crashkurs zur Erstellung von Barplots für Umfrage-Daten" />
  <meta name="twitter:title" content="Crashkurs zur Erstellung von Barplots für Umfrage-Daten" />
  <meta name="description" content="Eine recht häufige Art von Daten in der Wirtschaft kommen von Umfragen in der Belegschaft. Diese Daten gilt es dann aufzubereiten und graphisch wiederzugeben. Dafür gibt dieser Post einige grundlegende Hinweise. Grundwissen mit R setzen wir voraus :-)
Eine ausführlichere Beschreibung hier sich z.B. hier.
Packages laden Nicht vergessen: Ein Computerprogramm (z.B. ein R-Package) kann man nur dann laden, wenn man es vorher installier hat (aber es reicht, das Programm/R-Package einmal zu installieren).">
  <meta property="og:description" content="Eine recht häufige Art von Daten in der Wirtschaft kommen von Umfragen in der Belegschaft. Diese Daten gilt es dann aufzubereiten und graphisch wiederzugeben. Dafür gibt dieser Post einige grundlegende Hinweise. Grundwissen mit R setzen wir voraus :-)
Eine ausführlichere Beschreibung hier sich z.B. hier.
Packages laden Nicht vergessen: Ein Computerprogramm (z.B. ein R-Package) kann man nur dann laden, wenn man es vorher installier hat (aber es reicht, das Programm/R-Package einmal zu installieren).">
  <meta name="twitter:description" content="Eine recht häufige Art von Daten in der Wirtschaft kommen von Umfragen in der Belegschaft. Diese Daten gilt es dann aufzubereiten und graphisch wiederzugeben. Dafür gibt dieser Post einige …">
  <meta name="author" content="Sebastiuan Sauer"/>
  <link href='/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/img/logo-data-se.png" />
  <meta name="twitter:image" content="/img/logo-data-se.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@sauer_sebasitan" />
  <meta name="twitter:creator" content="@sauer_sebasitan" />
  <meta property="og:url" content="/post/crashkurs_barplots/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Data Se" />

  <meta name="generator" content="Hugo 0.21" />
  <link rel="canonical" href="/post/crashkurs_barplots/" />
  <link rel="alternate" href="" type="application/rss+xml" title="Data Se">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="/css/highlighting.css" />
  <link rel="stylesheet" href="/css/pygment_highlights.css" />
  <link rel="stylesheet" href="/css/highlight.min.css" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-99297878-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Data Se</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Data Se" href="/">
            <img class="avatar-img" src="/img/logo-data-se.png" alt="Data Se" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>Crashkurs zur Erstellung von Barplots für Umfrage-Daten</h1>
                
                
                  <span class="post-meta">
  Posted on November 13, 2016
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<p>Eine recht häufige Art von Daten in der Wirtschaft kommen von Umfragen in der Belegschaft. Diese Daten gilt es dann aufzubereiten und graphisch wiederzugeben. Dafür gibt dieser Post einige grundlegende Hinweise. Grundwissen mit R setzen wir voraus :-)</p>

<p>Eine ausführlichere Beschreibung hier sich z.B. <a href="https://sebastiansauer.github.io/plotting_surveys/">hier</a>.</p>

<h1 id="packages-laden">Packages laden</h1>

<p>Nicht vergessen: Ein Computerprogramm (z.B. ein R-Package) kann man nur dann laden, wenn man es vorher installier hat (aber es reicht, das Programm/R-Package <em>einmal</em> zu installieren).</p>

<p>Im Paket <code>tidyverse</code> sind eine Reihe von Paketen gebündelt, die wir brauchen z.B. zum Diagramme erstellen (ggplot2) oder um Daten zu verhackstücken (dplyr, tidyr).</p>

<pre><code class="language-r">library(tidyverse)
</code></pre>

<h1 id="daten-einlesen">Daten einlesen</h1>

<p>Jetzt lesen wir die Daten ein. In RStudio gibt es dafür z.B. den Button &ldquo;Import Dataset&rdquo;; der R-Commander hat einen ähnlichen Menüpunkt. Auch Excel-Dateien kann man so einlesen.</p>

<p>Hier laden wir mal beispielhaft einen Datensatz zu einer Online-Umfrage:</p>

<pre><code class="language-r">data &lt;- read.csv(&quot;https://osf.io/meyhp/?action=download&quot;)
</code></pre>

<p>Der DOI für diesen Datensatz ist 10.17605/OSF.IO/4KGZH.</p>

<p>Der Datensatz besteht aus 10 Extraversions-Items (<a href="https://www.zpid.de/pub/tests/PT_9006357_B5T_Forschungsbericht.pdf">B5T nach Satow</a>) sowie einigen Verhaltenskorrelaten (zumindest angenommenen). Uns interessieren also hier nur die 10 Extraversions-Items, die zusammen Extraversion als Persönlichkeitseigenschaft messen (sollen). Wir werden die Antworte der Befragten darstelle, aber uns hier keine Gedanken über Messqualität u.a. machen.</p>

<p>Die Umfrage kann <a href="https://docs.google.com/forms/d/e/1FAIpQLSfD4wQuhDV_edx1WBfN3Qos7XqoVbe41VpiKLRKtGLeuUD09Q/viewform">hier</a> eingesehen werden.</p>

<p>Schauen wir uns die Daten mal an:</p>

<pre><code class="language-r">glimpse(data)
</code></pre>

<pre><code>## Observations: 501
## Variables: 27
## $ timestamp          &lt;fctr&gt; 11.03.2015 19:17:48, 11.03.2015 19:18:05, ...
## $ code               &lt;fctr&gt; HSC, ERB, ADP, KHB, PTG, ABL, ber, hph, IH...
## $ i01                &lt;int&gt; 3, 2, 3, 3, 4, 3, 4, 3, 4, 4, 3, 3, 4, 4, 3...
## $ i02                &lt;int&gt; 2, 3, 1, 2, 2, 3, 1, 2, 1, 1, 2, 1, 2, 2, 2...
## $ i03                &lt;int&gt; 3, 1, 1, 2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 4, 1...
## $ i04r               &lt;int&gt; 2, 3, 1, 1, 1, 1, 2, 2, 1, 1, 2, 2, 3, 1, 2...
## $ i05                &lt;int&gt; 4, 3, 4, 3, 4, 2, 3, 2, 3, 3, 3, 2, 3, 3, 3...
## $ i06                &lt;int&gt; 1, 3, 4, 2, 2, 2, 2, 3, 1, 2, 2, 2, 2, 2, 2...
## $ i07                &lt;int&gt; 3, 2, 3, 3, 4, 4, 2, 3, 3, 3, 2, 4, 2, 3, 3...
## $ i08r               &lt;int&gt; 3, 2, 3, 2, 3, 2, 2, 3, 2, 2, 2, 3, 2, 2, 1...
## $ i09                &lt;int&gt; 3, 3, 3, 3, 3, 3, 3, 4, 4, 3, 4, 2, 4, 4, 4...
## $ i10                &lt;int&gt; 1, 1, 1, 2, 4, 3, 2, 1, 2, 3, 1, 3, 2, 3, 2...
## $ n_facebook_friends &lt;int&gt; 250, 106, 215, 200, 100, 376, 180, 432, 200...
## $ n_hangover         &lt;dbl&gt; 1, 0, 0, 15, 0, 1, 1, 2, 5, 0, 1, 2, 20, 2,...
## $ age                &lt;int&gt; 24, 35, 25, 39, 29, 33, 24, 28, 29, 38, 25,...
## $ sex                &lt;fctr&gt; Frau, Frau, Frau, Frau, Frau, Mann, Frau, ...
## $ extra_single_item  &lt;int&gt; 4, 3, 4, 3, 4, 4, 3, 3, 4, 4, 4, 4, 4, 4, 4...
## $ time_conversation  &lt;dbl&gt; 10, 15, 15, 5, 5, 20, 2, 15, 10, 10, 1, 5, ...
## $ presentation       &lt;fctr&gt; nein, nein, nein, nein, nein, ja, ja, ja, ...
## $ n_party            &lt;dbl&gt; 20, 5, 3, 25, 4, 4, 3, 6, 12, 5, 10, 5, 10,...
## $ clients            &lt;fctr&gt; , , , , , , , , , , , , , , , , , , , , , ...
## $ extra_vignette     &lt;fctr&gt; , , , , , , , , , , , , , , , , , , , , , ...
## $ extra_description  &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
## $ prop_na_per_row    &lt;dbl&gt; 0.04347826, 0.04347826, 0.04347826, 0.04347...
## $ extra_mean         &lt;dbl&gt; 2.5, 2.3, 2.4, 2.3, 2.8, 2.4, 2.2, 2.5, 2.2...
## $ extra_median       &lt;dbl&gt; 3.0, 2.5, 3.0, 2.0, 3.0, 2.5, 2.0, 2.5, 2.0...
## $ n_clients          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,...
</code></pre>

<h1 id="daten-aufbereiten">Daten aufbereiten</h1>

<p>Daten aufbereiten ist ein umfangreiches Geschäft; hier schneiden wir diese Angelegenheit nur kurz an.</p>

<p>Man sollte (u.a.):</p>

<ul>
<li>fehlende Werte identifizieren, evtl. die Fälle löschen, imputieren oder &hellip; nix tun</li>
<li>möglich Fehleingaben identifizieren</li>
<li>Negativ gepolte Items unkodieren</li>
<li>Mittelwerte bilden</li>
<li>&hellip;</li>
</ul>

<p>Statt dessen gehen wir davon aus, dass alles passt :-)</p>

<p>Eine ausführlichere Beschreibung der Aufbereitung dieser Daten findet sich <a href="https://sebastiansauer.github.io/plotting_surveys/">hier</a>.</p>

<h1 id="daten-umstellen-für-das-plotten">Daten umstellen für das Plotten</h1>

<p>Wir haben ein Diagramm vor Augen (s.u.), bei dem auf der X-Achse die Items stehen (1,2,&hellip;,n) und auf der Y-Achse die Anzahl der Kreuze nach Kategorien.</p>

<p>Viele Grafik-Funktionen sind nun so aufgebaut, dass auf der X-Achsen nur <em>eine</em> Variable steht. <code>ggplot2</code>, das wir hier verwenden, ist da keine Ausnahme. Wir müssen also die &ldquo;breite&rdquo; Tabelle (10 Spalten, pro Item eine) in eine &ldquo;lange Spalte&rdquo; umbauen: Eine Spalte heißt dann &ldquo;Itemnummer&rdquo; und die zweite &ldquo;Wert des Items&rdquo; oder so ähnlich.</p>

<p>Eine ausführliche Beschreibung findet sich z.B. <a href="https://sebastiansauer.github.io/gather-long-to-wide-format/">hier</a>.</p>

<p>Also, los geht&rsquo;s:</p>

<p>Zuerst wählen wir aus der Fülle der Daten, die Spalten, die uns interessieren: Die 10 Extraversions-Items, in diesem Fall.</p>

<pre><code class="language-r">data_items &lt;- select(data, i01:i10)
</code></pre>

<p>Dann stellen wir die Daten von &ldquo;breit&rdquo; nach &ldquo;lang&rdquo; um, so dass die Items eine Variable bilden und damit für <code>ggplot2</code> gut zu verarbeiten sind.</p>

<pre><code class="language-r">data_long &lt;- gather(data_items, key = items, value = Antwort)

data_long$Antwort &lt;- factor(data_long$Antwort)
</code></pre>

<p>Den Befehl mit <code>factor</code> brauchen wir für zum Diagramm erstellen im Folgenden. Dieser Befehl macht aus den Zahlen bei der Variable <code>Antwort</code> eine nominale Variable (in R: <code>factor</code>) mit Text-Werten &ldquo;1&rdquo;, &ldquo;2&rdquo; und so weiter. Wozu brauchen wir das? Der Digrammbefehl unten kann nur mit nominalen Variablen Gruppierungen durchführen. Wir werden in dem Diagramm die Anzahl der Antworten darstellen - die Anzahl der Antworten nach Antwort-Gruppe (Gruppe mit Antwort &ldquo;1&rdquo; etc.).</p>

<p>Keine Sorge, wenn sich das reichlich ungewöhnlich anhört. Sie müssen es an dieser Stelle nicht erfinden :-)</p>

<p>Man gewöhnt sich daran einerseits; und andererseits ist es vielleicht auch so, dass diese Funktionen nicht perfekt sind, oder nicht aus unserer Sicht oder nur aus Sicht des Menschen, der die Funktion geschrieben hat. Jedenfalls brauchen wir hier eine <code>factor</code> Variable zur Gruppierung&hellip;</p>

<p>Damit haben wir es schon! Jetzt wird gemalt.</p>

<h1 id="erste-diagramme">Erste Diagramme</h1>

<p>Wir nutzen <code>ggplot2</code>, wie gesagt, und davon die Funktion <code>qplot</code> (q wie quick, nehme ich an.).</p>

<pre><code class="language-r">ggplot(data = data_long) +
  aes(x = items)  +
  geom_bar(aes(fill = Antwort), position = &quot;fill&quot;) 
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2016-11-13-02/unnamed-chunk-6-1.png" alt="plot of chunk unnamed-chunk-6" /></p>

<p>Was macht dieser <code>ggplot</code> Befehl? Schauen wir es uns in Einzelnen an:</p>

<ul>
<li><code>ggplot(data = ...)</code>: Wir sagen &ldquo;Ich möchte gern die Funktion ggplot nutzen, um den Datensatz &hellip; zu plotten&rdquo;.</li>
<li><code>aes(...)</code>: Hier definieren wir die &ldquo;aesthetics&rdquo; des Diagramms, d.h. alles &ldquo;Sichtbare&rdquo;. Wir ordnen in diesem Fall der X-Achse die Variable <code>items</code> zu. Per Standardeinstellung geht <code>ggplot</code> davon aus, dass sie die Häufigkeiten der X-Werte auf der Y-Achse haben wollen, wenn Sie nichts über die Y-Achse sagen. Jetzt haben wir ein Koordinatensystem definiert (das noch leer ist).</li>
<li><code>geom_bar()</code>: &ldquo;Hey R oder ggplot, jetzt male mal einen barplot in den ansonsten noch leeren plot&rdquo;.</li>
<li><code>aes(fill = Antwort)</code>: Genauer gesagt nutzen wir <code>aes</code> um einen sichtbaren Aspekte des Diagramms (wie die X-Achse) eine Variable des Datensatzes zuzuordnen. Jetzt sagen wir, dass die Füllung (im Balkendiagramm) durch die Werte von <code>Antwort</code> definiert sein sollen (also &ldquo;1&rdquo;, &ldquo;2&rdquo; etc.).</li>
<li><code>position = &quot;fill&quot;</code> sagt, dass die Gesamt-Höhe des Balken aufgeteilt werden soll mit den &ldquo;Teil-Höhen&rdquo; der Gruppen (Antwort-Kategorien 1 bis 4); wir hätten die Teil-Höhen auch nebeneinander stellen können.</li>
</ul>

<h1 id="nas-entfernen">Nas entfernen</h1>

<p>Vielleicht ist es schöner, die NAs erst zu entfernen.</p>

<pre><code class="language-r">data_long &lt;- na.omit(data_long)
</code></pre>

<p>Und dann noch mal plotten:</p>

<pre><code class="language-r">ggplot(data = data_long) +
  aes(x = items)  +
  geom_bar(aes(fill = Antwort), position = &quot;fill&quot;) 
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2016-11-13-02/unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" /></p>

<h1 id="um-90-drehen">Um 90° drehen</h1>

<p>Dazu nehmen wir <code>+ coord_flip()</code>, also &ldquo;flippe das Koordinatensystem&rdquo;.</p>

<pre><code class="language-r">ggplot(data = data_long) +
  aes(x = items)  +
  geom_bar(aes(fill = Antwort), position = &quot;fill&quot;) +
  coord_flip()
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2016-11-13-02/unnamed-chunk-9-1.png" alt="plot of chunk unnamed-chunk-9" /></p>

<h1 id="text-labels-für-die-items">Text-Labels für die Items</h1>

<p>Wir definieren die Texte (&ldquo;Labels&rdquo;) für die Items:</p>

<pre><code class="language-r">item_labels &lt;- c(&quot;Ich bin das erste Item&quot;,
                 &quot;Das zweite Item&quot;,
                 &quot;Item 3 sdjfkladsjk&quot;,
                 &quot;Ich bin ein krasser Couch-Potato UMKODIERT&quot;,
&quot;i5 asf&quot;, &quot;i6 sdf&quot;, &quot;adfjks&quot;, &quot;sfjlkd&quot;, &quot;sdfkjl&quot;, &quot;sdfjkl&quot;)
</code></pre>

<p>Jetzt hängen wir die Labels an die Items im Diagramm:</p>

<pre><code class="language-r">ggplot(data = data_long) +
  aes(x = items)  +
  geom_bar(aes(fill = Antwort), position = &quot;fill&quot;) +
  coord_flip() +
  scale_x_discrete(labels = item_labels)
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2016-11-13-02/unnamed-chunk-11-1.png" alt="plot of chunk unnamed-chunk-11" /></p>

<p>Man kann auch einen Zeilenumbruch in den Item-Labels erzwingen&hellip; wobei das führt uns schon recht weit, aber gut, zum Abschluss :-)</p>

<pre><code class="language-r">item_labels &lt;- c(&quot;Ich bin das erste Item&quot;,
                 &quot;Das zweite Item&quot;,
                 &quot;Item 3 sdjfkladsjk&quot;,
                 &quot;Ich bin ein krasser \nCouch-Potato***mit Zeilenumbruch***&quot;,
&quot;i5 asf&quot;, &quot;i6 sdf&quot;, &quot;adfjks&quot;, &quot;sfjlkd&quot;, &quot;sdfkjl&quot;, &quot;sdfjkl&quot;)
</code></pre>

<p>Und wieder plotten:</p>

<pre><code class="language-r">ggplot(data = data_long) +
  aes(x = items)  +
  geom_bar(aes(fill = Antwort), position = &quot;fill&quot;) +
  coord_flip() +
  scale_x_discrete(labels = item_labels, name = &quot;Extraversionsitems&quot;) +
  scale_y_continuous(name = &quot;Anteile&quot;)
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2016-11-13-02/unnamed-chunk-13-1.png" alt="plot of chunk unnamed-chunk-13" /></p>

<h1 id="diagramm-mit-häufigkeiten-nicht-anteilen">Diagramm mit Häufigkeiten, nicht Anteilen</h1>

<p>Ach so, schön wäre noch die echten Zahlen an der Y-Achse, nicht Anteile. Dafür müssen wir unseren Diagrammtyp ändern, bzw. die Art der Anordnung ändern. Mit <code>position = &quot;fill&quot;</code> wird der Anteil (also mit einer Summe von 100%) dargestellt. Wir können auch einfach die Zahlen/Häufigkeiten anzeigen, in dem wir die Kategorien &ldquo;aufeinander stapeln&rdquo;</p>

<pre><code class="language-r">ggplot(data = data_long) +
  aes(x = items)  +
  geom_bar(aes(fill = Antwort), position = &quot;stack&quot;) +
  coord_flip() +
  scale_x_discrete(labels = item_labels) 
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2016-11-13-02/unnamed-chunk-14-1.png" alt="plot of chunk unnamed-chunk-14" /></p>

<h1 id="farbschema">Farbschema</h1>

<p>Ja, die Wünsche hören nicht auf&hellip; Also, noch ein anderes Farbschema:</p>

<pre><code class="language-r">ggplot(data = data_long) +
  aes(x = items)  +
  geom_bar(aes(fill = Antwort), position = &quot;stack&quot;) +
  coord_flip() +
  scale_x_discrete(labels = item_labels) +
  scale_fill_brewer(palette = 17)
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2016-11-13-02/unnamed-chunk-15-1.png" alt="plot of chunk unnamed-chunk-15" /></p>

<p>Probieren Sie mal ein paar Brewer Farbpaletten aus.</p>

<p>Natürlich kann man noch viel mehr tun; schauen Sie sich z.B. dieses ausführlichere Posting an: <a href="https://sebastiansauer.github.io/plotting_surveys/">https://sebastiansauer.github.io/plotting_surveys/</a>.</p>

      </article>

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="/../post/improved_bar_stacking_ggplot2_220/" data-toggle="tooltip" data-placement="top" title="New bar stacking with ggplot 2.2.0">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="/../post/preparing_survey_data/" data-toggle="tooltip" data-placement="top" title="Preparing survey results data">Next Post &rarr;</a>
          </li>
        
      </ul>

      
        
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https-sebastiansauer-github-io';
    var disqus_identifier = '\/..\/post\/crashkurs_barplots\/';
    var disqus_title = 'Crashkurs zur Erstellung von Barplots für Umfrage-Daten';
    var disqus_url = '\/..\/post\/crashkurs_barplots\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:ssauer@posteo.de" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/sebastian_sauer" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/sauer_sebasitan" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://reddit.com/u/username" title="Reddit">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-reddit-alien fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/https://www.linkedin.com/in/dr-sebastian-sauer-4791762/" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.xing.com/profile/https://www.xing.com/profile/Sebastian_Sauer2" title="Xing">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-xing fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="yourwebsite.com">Sebastiuan Sauer</a>
            
          

          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="/">Data Se</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.21</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>



  </body>
</html>


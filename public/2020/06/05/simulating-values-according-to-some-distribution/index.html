<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.67.0" />


<title>simulating values according to some distribution - Data Se</title>
<meta property="og:title" content="simulating values according to some distribution - Data Se">



  








<link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo-data-se.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="/">Blog</a></li>
    
    <li><a href="/privacy/">Data privacy</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">18 min read</span>
    

    <h1 class="article-title">simulating values according to some distribution</h1>

    
    <span class="article-date">2020/06/05</span>
    

    <div class="article-content">
      
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="load-packages" class="section level1">
<h1>Load packages</h1>
<pre class="r"><code>library(tidyverse)
library(mosaic)</code></pre>
</div>
<div id="whats-a-monte-carlo-simulation" class="section level1">
<h1>What’s a Monte Carlo simulation?</h1>
<p>A <a href="https://en.wikipedia.org/wiki/Monte_Carlo_method">Monte Carlo Simulation</a> is a numeric approach to solving difficult problems. Instead of having an analytic way of solving the problem, one just says “ok, let’s try it out and see what happens”.</p>
</div>
<div id="coin-flip-distribution" class="section level1">
<h1>Coin flip distribution</h1>
<p>Simalatin a single coin flip (Bernoulli) distribution can be achieved like this:</p>
<pre class="r"><code>rflip()
#&gt; 
#&gt; Flipping 1 coin [ Prob(Heads) = 0.5 ] ...
#&gt; 
#&gt; T
#&gt; 
#&gt; Number of Heads: 0 [Proportion Heads: 0]</code></pre>
</div>
<div id="normal-distribution" class="section level1">
<h1>Normal distribution</h1>
<pre class="r"><code>rnorm(n = 10, mean = 0, sd = 1)
#&gt;  [1] -1.0042797 -0.2713608  0.1446305  0.2200710  1.5630991  0.9739326
#&gt;  [7] -2.9633715  2.0108904 -1.2170970 -1.4196704</code></pre>
</div>
<div id="and-so-on" class="section level1">
<h1>And so on</h1>
<p>For example, the log-norm distribution</p>
<pre class="r"><code>rlnorm(n = 10)
#&gt;  [1] 1.2862901 2.1063759 1.1456381 1.3393608 0.2507752 0.6209446 0.2133026
#&gt;  [8] 0.4866470 0.3102503 0.8412159</code></pre>
</div>
<div id="sampling-distribution" class="section level1">
<h1>Sampling distribution</h1>
<p>Let’s draw 1000 samples from a (standard) Normal of size <span class="math inline">\(n=30\)</span>.</p>
<pre class="r"><code>samples1 &lt;- do(1000) * rnorm(30)
samples1 %&gt;% 
  head()
#&gt;           V1           V2         V3         V4          V5          V6
#&gt; 1  1.2863219 -0.274807049  1.0814329 -0.8267866 -1.50808569  0.13985435
#&gt; 2 -0.8653548  1.140980377 -1.8949788 -1.0499773 -1.90784044  0.07065417
#&gt; 3 -0.2310586  0.253997058  0.7136598 -0.1655298  0.08595934 -3.08765525
#&gt; 4  0.6528163 -1.249222885 -0.9352459  0.6503552 -0.74092661 -0.94769574
#&gt; 5 -0.2707257  0.001270702 -0.1759433 -0.5839333  0.30712417 -1.73348404
#&gt; 6 -1.0663559 -0.503252790 -1.0056853  1.0801417  0.76640245 -1.34019155
#&gt;           V7         V8         V9        V10        V11        V12         V13
#&gt; 1  0.1028167 -1.2830022 -0.4498292  1.6148086 -0.6883792  1.6613820  0.06266613
#&gt; 2 -1.7558073  0.1281623  0.6946798  0.9496056  0.6863822 -2.5996756  0.31201328
#&gt; 3 -1.8591652  0.3190632  0.9354181 -0.7850001  2.0188404 -0.4131814 -1.02457662
#&gt; 4 -0.2410525 -0.2379943  0.7073258 -1.8916074 -0.6208275 -0.7190065 -1.46339937
#&gt; 5 -2.7324921  0.7023635  0.1180570  0.8523584  1.4635444  0.2715944 -1.75585981
#&gt; 6  0.9910696  2.1352831 -0.7963178  0.7092296 -0.4589264  0.3246102 -0.46823924
#&gt;          V14         V15        V16        V17        V18        V19
#&gt; 1  1.1267859  0.10243489 -1.3773886 -0.2814393 -0.1218417 -0.7257556
#&gt; 2 -1.4729182  0.57464962  1.1551708  0.4054580  1.9600981  0.1663946
#&gt; 3  1.1332261  0.16570618 -1.0176817  0.6032048  1.2973820 -1.3559251
#&gt; 4  0.2896663 -0.01344070 -0.3911377  0.1381243 -1.1510956  0.9459299
#&gt; 5  0.5196629 -0.31279824  1.3103833  0.6014260 -0.7721067 -0.2173477
#&gt; 6 -1.4481882 -0.05837044 -1.5427164 -0.2887681  2.0625063 -0.4895346
#&gt;           V20        V21         V22        V23        V24          V25
#&gt; 1 -0.17175860  2.5391486 -0.33733035 -0.6260165  0.8665592 -0.009655187
#&gt; 2  2.09774909  0.6320319 -1.25315758  0.6768155 -1.0781442 -2.848880452
#&gt; 3  1.47956152 -0.4123445 -0.41993393  0.7708856 -1.0675232  0.977194197
#&gt; 4  0.54044542 -2.1823161 -0.05885838 -0.9025076 -0.1109677 -0.452467283
#&gt; 5 -0.08705375 -1.7143591  0.57834199 -0.4412453 -0.9552024  1.264503219
#&gt; 6  0.18169065 -1.5062575 -0.17430273 -0.5276682 -0.2932246  1.017935755
#&gt;          V26         V27         V28       V29        V30
#&gt; 1  0.9337085  1.36870646 -0.05470128 1.3706746  1.6609479
#&gt; 2 -0.0705131 -0.04933185 -1.18124717 0.9545253  0.4226119
#&gt; 3  0.1970384  0.26549223  0.19628074 0.2728573  0.4841887
#&gt; 4  0.2354287  0.38256938  0.78410706 0.9474460 -0.9227730
#&gt; 5  0.1292691  0.29589709 -1.15487477 0.4467893  0.2350930
#&gt; 6  1.1253956 -1.59282980 -1.03756564 0.8328620  0.0220449</code></pre>
<p>It’s probably sufficient to store only the means:</p>
<pre class="r"><code>samples2 &lt;- do(1000) * (rnorm(30) %&gt;% mean())
samples2
#&gt;             result
#&gt; 1     0.0590989449
#&gt; 2     0.0012580593
#&gt; 3    -0.0892724577
#&gt; 4     0.1531514196
#&gt; 5    -0.1307763999
#&gt; 6    -0.1327533663
#&gt; 7    -0.0489707327
#&gt; 8    -0.3193152085
#&gt; 9     0.1287363093
#&gt; 10   -0.4020211202
#&gt; 11    0.3596434540
#&gt; 12   -0.1539218089
#&gt; 13    0.1323968816
#&gt; 14    0.0925800669
#&gt; 15   -0.0290424468
#&gt; 16   -0.2093299428
#&gt; 17   -0.0057012129
#&gt; 18   -0.0364478802
#&gt; 19    0.1304632040
#&gt; 20    0.0232053683
#&gt; 21   -0.0025806687
#&gt; 22    0.0658512556
#&gt; 23   -0.0938371089
#&gt; 24   -0.0166842427
#&gt; 25    0.0269671066
#&gt; 26   -0.2552056820
#&gt; 27    0.1696612660
#&gt; 28   -0.2563477694
#&gt; 29   -0.1166579671
#&gt; 30   -0.2701413735
#&gt; 31    0.0268610751
#&gt; 32   -0.2363386757
#&gt; 33    0.0563832424
#&gt; 34   -0.2516047362
#&gt; 35    0.2289034814
#&gt; 36    0.3507713724
#&gt; 37   -0.2976291805
#&gt; 38   -0.0984541083
#&gt; 39    0.1329338773
#&gt; 40   -0.0676684433
#&gt; 41    0.2818812590
#&gt; 42   -0.0560759920
#&gt; 43   -0.1523330335
#&gt; 44    0.0631982833
#&gt; 45    0.0250188746
#&gt; 46   -0.3992897760
#&gt; 47   -0.1515811363
#&gt; 48   -0.0345497118
#&gt; 49    0.2004404315
#&gt; 50    0.0954747153
#&gt; 51    0.0665936699
#&gt; 52   -0.1560961641
#&gt; 53    0.1321631797
#&gt; 54    0.0154846105
#&gt; 55    0.1560894959
#&gt; 56   -0.3068885246
#&gt; 57    0.1623218139
#&gt; 58    0.0592277102
#&gt; 59   -0.1088808368
#&gt; 60    0.1287213599
#&gt; 61   -0.1532419350
#&gt; 62   -0.1392291145
#&gt; 63    0.0563543828
#&gt; 64    0.3774013415
#&gt; 65   -0.0922519150
#&gt; 66   -0.2066345674
#&gt; 67   -0.1004892232
#&gt; 68    0.0576474473
#&gt; 69    0.2193014198
#&gt; 70    0.3963919757
#&gt; 71   -0.2670373687
#&gt; 72   -0.0781480295
#&gt; 73   -0.1698291311
#&gt; 74    0.0059543152
#&gt; 75    0.2741436871
#&gt; 76   -0.0319554270
#&gt; 77   -0.0212628949
#&gt; 78    0.0827169812
#&gt; 79    0.2197304318
#&gt; 80    0.0596300596
#&gt; 81   -0.1869504968
#&gt; 82   -0.1701291753
#&gt; 83    0.0308579905
#&gt; 84   -0.1616995665
#&gt; 85    0.3008051969
#&gt; 86   -0.2706646106
#&gt; 87   -0.0772081774
#&gt; 88    0.0827025411
#&gt; 89   -0.1452455768
#&gt; 90    0.0716882473
#&gt; 91    0.0219726973
#&gt; 92    0.1271926656
#&gt; 93   -0.0907238352
#&gt; 94   -0.1561433251
#&gt; 95    0.2101711469
#&gt; 96   -0.3224575653
#&gt; 97    0.1040706124
#&gt; 98    0.3305671560
#&gt; 99    0.2227110092
#&gt; 100  -0.1227435975
#&gt; 101  -0.1261654900
#&gt; 102   0.2931798822
#&gt; 103  -0.0255010820
#&gt; 104   0.0114868673
#&gt; 105   0.1121287749
#&gt; 106   0.0580150085
#&gt; 107   0.3116374614
#&gt; 108  -0.0123390346
#&gt; 109  -0.1322775443
#&gt; 110  -0.0909103569
#&gt; 111  -0.1484260110
#&gt; 112   0.2051904838
#&gt; 113   0.3710323644
#&gt; 114  -0.1078586919
#&gt; 115   0.3207857818
#&gt; 116   0.3536355073
#&gt; 117  -0.2085563711
#&gt; 118   0.1041818399
#&gt; 119   0.2035383050
#&gt; 120   0.0433101595
#&gt; 121  -0.1331557482
#&gt; 122  -0.0318530780
#&gt; 123  -0.1004508783
#&gt; 124  -0.0410479740
#&gt; 125  -0.1082817847
#&gt; 126   0.2029343772
#&gt; 127  -0.2825038193
#&gt; 128  -0.1394617131
#&gt; 129   0.2338340252
#&gt; 130   0.2060606133
#&gt; 131   0.0833293388
#&gt; 132   0.4093257224
#&gt; 133  -0.1357307961
#&gt; 134   0.0553621842
#&gt; 135  -0.2512912718
#&gt; 136  -0.3430687278
#&gt; 137  -0.1532655614
#&gt; 138   0.1337170158
#&gt; 139   0.1668511719
#&gt; 140   0.0694585926
#&gt; 141   0.0419527627
#&gt; 142  -0.1677548133
#&gt; 143   0.2236076975
#&gt; 144  -0.0592467008
#&gt; 145   0.1333167651
#&gt; 146  -0.0031678610
#&gt; 147  -0.2793988255
#&gt; 148   0.1568242668
#&gt; 149  -0.0165272613
#&gt; 150  -0.0294687517
#&gt; 151   0.1296867824
#&gt; 152  -0.1244948778
#&gt; 153   0.0280935030
#&gt; 154   0.0718148855
#&gt; 155   0.3151086911
#&gt; 156  -0.2396987005
#&gt; 157  -0.3782014130
#&gt; 158   0.1267145894
#&gt; 159  -0.0732676361
#&gt; 160   0.3490867408
#&gt; 161   0.0722047853
#&gt; 162   0.0295866085
#&gt; 163   0.1535295482
#&gt; 164  -0.1869894675
#&gt; 165   0.0624062682
#&gt; 166   0.5534957361
#&gt; 167   0.0812173489
#&gt; 168  -0.0228583961
#&gt; 169  -0.1771670259
#&gt; 170   0.1876069019
#&gt; 171  -0.2116600320
#&gt; 172  -0.0713974842
#&gt; 173   0.0551847640
#&gt; 174   0.2533094696
#&gt; 175   0.1828009050
#&gt; 176  -0.4395655116
#&gt; 177   0.0779884767
#&gt; 178  -0.1130866471
#&gt; 179  -0.2823233623
#&gt; 180  -0.1677790975
#&gt; 181   0.2902520685
#&gt; 182  -0.1977219836
#&gt; 183  -0.1245982779
#&gt; 184   0.1948502556
#&gt; 185  -0.2089720923
#&gt; 186  -0.0798423139
#&gt; 187  -0.1650976105
#&gt; 188  -0.0136699303
#&gt; 189  -0.1196269617
#&gt; 190  -0.0995186385
#&gt; 191  -0.0895189760
#&gt; 192  -0.0949696295
#&gt; 193  -0.2845521403
#&gt; 194   0.2713442493
#&gt; 195  -0.1861425409
#&gt; 196  -0.2390329125
#&gt; 197  -0.0205024159
#&gt; 198   0.0344911211
#&gt; 199  -0.2942778994
#&gt; 200   0.1383071226
#&gt; 201  -0.0644485301
#&gt; 202   0.1252182931
#&gt; 203   0.2512867483
#&gt; 204   0.3614605582
#&gt; 205   0.2892537110
#&gt; 206   0.1251022702
#&gt; 207  -0.0933881731
#&gt; 208   0.1114098030
#&gt; 209  -0.1452676942
#&gt; 210   0.0171021489
#&gt; 211  -0.2564046848
#&gt; 212   0.0625197315
#&gt; 213   0.0613902879
#&gt; 214  -0.0897662244
#&gt; 215  -0.0099175470
#&gt; 216   0.2338867628
#&gt; 217   0.2376555771
#&gt; 218   0.2916762273
#&gt; 219  -0.1053679217
#&gt; 220  -0.2422162052
#&gt; 221  -0.3519260280
#&gt; 222   0.2699828542
#&gt; 223  -0.0604605787
#&gt; 224   0.0449212160
#&gt; 225   0.1868278952
#&gt; 226   0.2992260785
#&gt; 227   0.1513059272
#&gt; 228  -0.4016329716
#&gt; 229  -0.0546390320
#&gt; 230   0.0592409983
#&gt; 231  -0.2072078167
#&gt; 232   0.1220021645
#&gt; 233  -0.0988179306
#&gt; 234  -0.0009287348
#&gt; 235  -0.3675963663
#&gt; 236   0.4122118370
#&gt; 237   0.0052297447
#&gt; 238   0.2943112494
#&gt; 239  -0.0120881262
#&gt; 240  -0.2395659525
#&gt; 241  -0.2470288902
#&gt; 242  -0.0204628576
#&gt; 243  -0.0407213513
#&gt; 244   0.0287892633
#&gt; 245   0.1488588375
#&gt; 246   0.1125705890
#&gt; 247  -0.3490571331
#&gt; 248   0.2458855903
#&gt; 249   0.2409740845
#&gt; 250  -0.0708341424
#&gt; 251  -0.0351084154
#&gt; 252   0.1329241920
#&gt; 253   0.0715697755
#&gt; 254  -0.2028982820
#&gt; 255  -0.1839837458
#&gt; 256   0.1783574369
#&gt; 257  -0.0987428705
#&gt; 258  -0.2242284969
#&gt; 259   0.4200322477
#&gt; 260   0.1301408950
#&gt; 261  -0.1015646929
#&gt; 262  -0.2446883498
#&gt; 263   0.0784823813
#&gt; 264   0.1620328216
#&gt; 265  -0.1414420403
#&gt; 266  -0.1678646898
#&gt; 267  -0.0864393440
#&gt; 268  -0.1264465062
#&gt; 269   0.0663647772
#&gt; 270  -0.3206298365
#&gt; 271  -0.3253636630
#&gt; 272  -0.2829235427
#&gt; 273   0.3040356686
#&gt; 274  -0.3069294649
#&gt; 275   0.2085066556
#&gt; 276  -0.0793340111
#&gt; 277  -0.0218284713
#&gt; 278   0.1031803856
#&gt; 279  -0.1365811146
#&gt; 280  -0.3408127474
#&gt; 281  -0.0461346348
#&gt; 282   0.0182048747
#&gt; 283   0.0130811028
#&gt; 284   0.0782109763
#&gt; 285   0.0350753451
#&gt; 286  -0.0799262301
#&gt; 287  -0.1984509944
#&gt; 288  -0.0782592637
#&gt; 289  -0.1918467220
#&gt; 290   0.1744451089
#&gt; 291  -0.1194031979
#&gt; 292  -0.0077722999
#&gt; 293   0.4401943203
#&gt; 294   0.1793279952
#&gt; 295  -0.1807742573
#&gt; 296  -0.3200187245
#&gt; 297  -0.0134443642
#&gt; 298  -0.1719882869
#&gt; 299   0.2750614627
#&gt; 300  -0.1487449533
#&gt; 301   0.1325944574
#&gt; 302  -0.2130648199
#&gt; 303  -0.3196028871
#&gt; 304   0.0165229750
#&gt; 305  -0.1772053855
#&gt; 306   0.1855552568
#&gt; 307  -0.3090369863
#&gt; 308  -0.0690845262
#&gt; 309   0.0606774130
#&gt; 310  -0.0984075402
#&gt; 311  -0.3635658817
#&gt; 312   0.2403236653
#&gt; 313   0.2974535742
#&gt; 314   0.1555009544
#&gt; 315   0.2798331443
#&gt; 316  -0.3448110199
#&gt; 317   0.0001932750
#&gt; 318   0.1569286480
#&gt; 319   0.1923750445
#&gt; 320   0.2106058409
#&gt; 321   0.0049762543
#&gt; 322  -0.2993671998
#&gt; 323  -0.0400550831
#&gt; 324  -0.3943597695
#&gt; 325   0.1167060724
#&gt; 326  -0.0732876422
#&gt; 327   0.1123318927
#&gt; 328  -0.0367038183
#&gt; 329   0.1727912352
#&gt; 330  -0.1871456275
#&gt; 331   0.0418381112
#&gt; 332   0.1212880586
#&gt; 333   0.2134362862
#&gt; 334  -0.0367393746
#&gt; 335  -0.2670247116
#&gt; 336   0.0317667004
#&gt; 337   0.0632776973
#&gt; 338   0.0565935857
#&gt; 339  -0.2488684275
#&gt; 340  -0.0971980821
#&gt; 341   0.0309134444
#&gt; 342  -0.1678203823
#&gt; 343   0.0478589481
#&gt; 344   0.2385389210
#&gt; 345  -0.0447984011
#&gt; 346   0.1506885590
#&gt; 347  -0.1711832729
#&gt; 348  -0.1054510902
#&gt; 349   0.1178670170
#&gt; 350   0.0842331638
#&gt; 351   0.0474019862
#&gt; 352  -0.0034296651
#&gt; 353  -0.2673975631
#&gt; 354   0.0587448914
#&gt; 355  -0.1055290821
#&gt; 356   0.0555916771
#&gt; 357  -0.1069217416
#&gt; 358  -0.1029957906
#&gt; 359  -0.3320925441
#&gt; 360  -0.1335738126
#&gt; 361   0.3196725290
#&gt; 362  -0.0092117948
#&gt; 363   0.1235291876
#&gt; 364   0.1760747644
#&gt; 365   0.1325496997
#&gt; 366  -0.0138162974
#&gt; 367   0.0382546225
#&gt; 368  -0.1529350280
#&gt; 369   0.0880569358
#&gt; 370  -0.0560225167
#&gt; 371  -0.0273871285
#&gt; 372   0.2565430368
#&gt; 373   0.1415380476
#&gt; 374   0.2250938114
#&gt; 375   0.0275009094
#&gt; 376  -0.2383768545
#&gt; 377  -0.2723648373
#&gt; 378  -0.0647751947
#&gt; 379   0.2793942157
#&gt; 380   0.2291669117
#&gt; 381   0.0818056087
#&gt; 382  -0.1936637360
#&gt; 383  -0.1759679481
#&gt; 384   0.1371871580
#&gt; 385  -0.1765747129
#&gt; 386  -0.1691710808
#&gt; 387  -0.0435812327
#&gt; 388   0.0086366218
#&gt; 389  -0.0030981338
#&gt; 390  -0.0736994867
#&gt; 391  -0.0155668878
#&gt; 392  -0.0685403736
#&gt; 393   0.0974016974
#&gt; 394  -0.1396177311
#&gt; 395   0.2798294744
#&gt; 396   0.0627710606
#&gt; 397  -0.1146893875
#&gt; 398   0.0388430559
#&gt; 399  -0.0367348956
#&gt; 400   0.0650749606
#&gt; 401   0.0177926540
#&gt; 402  -0.1768044664
#&gt; 403  -0.1371859166
#&gt; 404   0.0951192409
#&gt; 405  -0.3187387247
#&gt; 406   0.1144903196
#&gt; 407  -0.0022920139
#&gt; 408  -0.1822379066
#&gt; 409  -0.0038259111
#&gt; 410  -0.1660393154
#&gt; 411   0.0109698656
#&gt; 412   0.3134641002
#&gt; 413  -0.0556414343
#&gt; 414   0.0854777409
#&gt; 415  -0.2055115428
#&gt; 416   0.2246062187
#&gt; 417  -0.4143988497
#&gt; 418   0.1820542393
#&gt; 419  -0.0185856426
#&gt; 420   0.1086128159
#&gt; 421   0.3488008990
#&gt; 422  -0.1238554182
#&gt; 423  -0.0887723000
#&gt; 424  -0.1140534659
#&gt; 425   0.1457755560
#&gt; 426  -0.0982668711
#&gt; 427   0.0299751703
#&gt; 428  -0.1307195931
#&gt; 429   0.2691547217
#&gt; 430  -0.0890054357
#&gt; 431  -0.0259124542
#&gt; 432  -0.0784560292
#&gt; 433  -0.2723053635
#&gt; 434   0.1273831428
#&gt; 435   0.0180294796
#&gt; 436  -0.0838041712
#&gt; 437  -0.0417866680
#&gt; 438   0.1896507543
#&gt; 439   0.2781946941
#&gt; 440  -0.0247287492
#&gt; 441   0.3093670619
#&gt; 442   0.0356742155
#&gt; 443   0.0577553381
#&gt; 444  -0.1787767749
#&gt; 445   0.0859985727
#&gt; 446   0.0109847903
#&gt; 447  -0.1170511891
#&gt; 448  -0.1062881152
#&gt; 449  -0.1877988371
#&gt; 450   0.2840056248
#&gt; 451   0.2422726523
#&gt; 452   0.1731292877
#&gt; 453   0.0247393059
#&gt; 454   0.4149442382
#&gt; 455   0.0008139295
#&gt; 456  -0.1079088693
#&gt; 457  -0.2213605579
#&gt; 458   0.1052761854
#&gt; 459   0.1729816181
#&gt; 460  -0.0075372789
#&gt; 461   0.0869001208
#&gt; 462   0.1202708906
#&gt; 463   0.0200791810
#&gt; 464  -0.2093651349
#&gt; 465   0.0583612795
#&gt; 466  -0.2066344881
#&gt; 467   0.0154056921
#&gt; 468  -0.0045511620
#&gt; 469   0.4900983481
#&gt; 470   0.1575924900
#&gt; 471  -0.0087106093
#&gt; 472   0.1092122772
#&gt; 473  -0.1948320790
#&gt; 474   0.0178620224
#&gt; 475   0.2198628606
#&gt; 476  -0.1884295076
#&gt; 477   0.0822923102
#&gt; 478   0.0956227935
#&gt; 479  -0.0813762656
#&gt; 480   0.1731702958
#&gt; 481  -0.2319417988
#&gt; 482   0.0692406085
#&gt; 483  -0.2155913482
#&gt; 484  -0.2382312960
#&gt; 485   0.0571131000
#&gt; 486   0.0142959426
#&gt; 487  -0.0221068329
#&gt; 488   0.3064269599
#&gt; 489  -0.3454527650
#&gt; 490  -0.0316831597
#&gt; 491   0.0864108759
#&gt; 492   0.1210469539
#&gt; 493  -0.0338229617
#&gt; 494  -0.0413100208
#&gt; 495   0.0885515240
#&gt; 496  -0.1552016312
#&gt; 497  -0.0003335246
#&gt; 498  -0.1128226332
#&gt; 499   0.0786273992
#&gt; 500  -0.0915933257
#&gt; 501  -0.2382400885
#&gt; 502   0.0135569243
#&gt; 503   0.0657128992
#&gt; 504   0.0888862664
#&gt; 505   0.2991919495
#&gt; 506  -0.3412999059
#&gt; 507   0.0182405780
#&gt; 508   0.2334390459
#&gt; 509  -0.1027013667
#&gt; 510   0.0069196748
#&gt; 511   0.1772490515
#&gt; 512   0.0819838080
#&gt; 513  -0.0710274449
#&gt; 514  -0.0644343920
#&gt; 515  -0.0664487950
#&gt; 516   0.0015986587
#&gt; 517  -0.0339128189
#&gt; 518  -0.1381503682
#&gt; 519   0.1149639225
#&gt; 520   0.0325265575
#&gt; 521   0.2321385663
#&gt; 522   0.1873977585
#&gt; 523   0.2820215076
#&gt; 524  -0.0557718939
#&gt; 525   0.1289486495
#&gt; 526   0.2444312672
#&gt; 527   0.0998520353
#&gt; 528  -0.3185287716
#&gt; 529   0.2948316156
#&gt; 530  -0.2661202206
#&gt; 531  -0.1958897013
#&gt; 532  -0.1729907028
#&gt; 533   0.0848936626
#&gt; 534   0.4361319618
#&gt; 535   0.0179201442
#&gt; 536   0.1436551925
#&gt; 537   0.0237319693
#&gt; 538   0.2755400587
#&gt; 539  -0.1183043623
#&gt; 540   0.1416073612
#&gt; 541  -0.1882694383
#&gt; 542  -0.0926561780
#&gt; 543   0.2252837565
#&gt; 544   0.4940085585
#&gt; 545  -0.1235743424
#&gt; 546  -0.0592318733
#&gt; 547   0.0629355840
#&gt; 548  -0.0674757951
#&gt; 549   0.1246313220
#&gt; 550  -0.3125221289
#&gt; 551   0.0088999321
#&gt; 552   0.0003831330
#&gt; 553   0.0545502822
#&gt; 554  -0.1670067021
#&gt; 555   0.2588369883
#&gt; 556  -0.2075116113
#&gt; 557   0.0181081702
#&gt; 558   0.2433095205
#&gt; 559   0.0986143289
#&gt; 560  -0.1940103373
#&gt; 561  -0.3379623990
#&gt; 562   0.2848314714
#&gt; 563  -0.2098249109
#&gt; 564   0.1572876257
#&gt; 565   0.3699130639
#&gt; 566  -0.0975115863
#&gt; 567  -0.3661645730
#&gt; 568   0.1344411168
#&gt; 569  -0.0968703637
#&gt; 570  -0.3058750376
#&gt; 571  -0.1300353071
#&gt; 572  -0.0995433423
#&gt; 573   0.1993483747
#&gt; 574  -0.0160472495
#&gt; 575  -0.0894793291
#&gt; 576   0.1748354438
#&gt; 577   0.0009043269
#&gt; 578   0.0467370710
#&gt; 579   0.0816217517
#&gt; 580   0.0495783601
#&gt; 581   0.1227350441
#&gt; 582   0.1317004653
#&gt; 583   0.1199804922
#&gt; 584  -0.1760911087
#&gt; 585  -0.1735235688
#&gt; 586   0.0005398258
#&gt; 587  -0.0773743823
#&gt; 588  -0.0687564233
#&gt; 589  -0.1872121220
#&gt; 590   0.0671055582
#&gt; 591   0.0330912412
#&gt; 592  -0.2271783615
#&gt; 593   0.0539428470
#&gt; 594   0.2328102510
#&gt; 595   0.2869718966
#&gt; 596  -0.0960395533
#&gt; 597   0.2406517287
#&gt; 598   0.2401061210
#&gt; 599  -0.0243126389
#&gt; 600  -0.0054870541
#&gt; 601  -0.1885031940
#&gt; 602   0.1265370909
#&gt; 603   0.0239296697
#&gt; 604   0.1708044038
#&gt; 605   0.0371636992
#&gt; 606   0.0622997520
#&gt; 607   0.0668539350
#&gt; 608   0.1616372717
#&gt; 609  -0.0062581080
#&gt; 610   0.0589635833
#&gt; 611  -0.0369576555
#&gt; 612   0.0521904061
#&gt; 613  -0.0381894696
#&gt; 614   0.3695348008
#&gt; 615   0.0282601963
#&gt; 616  -0.0359183040
#&gt; 617   0.0534415622
#&gt; 618  -0.2719875791
#&gt; 619   0.1908487139
#&gt; 620  -0.0001467177
#&gt; 621  -0.0069617723
#&gt; 622   0.1132482656
#&gt; 623   0.0406369137
#&gt; 624   0.1334790919
#&gt; 625  -0.0905957500
#&gt; 626   0.1443162027
#&gt; 627   0.0396225458
#&gt; 628  -0.2323804399
#&gt; 629   0.1599514654
#&gt; 630  -0.1473590531
#&gt; 631  -0.0874031843
#&gt; 632   0.2494944091
#&gt; 633  -0.0064485922
#&gt; 634   0.1430121303
#&gt; 635  -0.3730158499
#&gt; 636   0.2840223514
#&gt; 637  -0.0077973362
#&gt; 638   0.0926649276
#&gt; 639  -0.0209142184
#&gt; 640  -0.0104324836
#&gt; 641   0.2703021476
#&gt; 642   0.0980667074
#&gt; 643  -0.2130580882
#&gt; 644  -0.3153174131
#&gt; 645  -0.2266369703
#&gt; 646  -0.0390078725
#&gt; 647   0.0627938830
#&gt; 648  -0.1422801220
#&gt; 649  -0.0968069113
#&gt; 650  -0.1422188165
#&gt; 651   0.0834038031
#&gt; 652   0.0860959383
#&gt; 653   0.3599193606
#&gt; 654  -0.1239819607
#&gt; 655  -0.1170205943
#&gt; 656   0.0410863608
#&gt; 657  -0.1855207671
#&gt; 658  -0.2459703923
#&gt; 659   0.0737177431
#&gt; 660  -0.0750829594
#&gt; 661  -0.1824284476
#&gt; 662  -0.0238878338
#&gt; 663  -0.2697204912
#&gt; 664  -0.0209963239
#&gt; 665   0.0704798837
#&gt; 666  -0.1324425818
#&gt; 667  -0.1943041557
#&gt; 668  -0.3623152158
#&gt; 669  -0.1479856019
#&gt; 670   0.0204115400
#&gt; 671  -0.0057194219
#&gt; 672  -0.0110928653
#&gt; 673  -0.1465622336
#&gt; 674  -0.3754100099
#&gt; 675  -0.0096475136
#&gt; 676  -0.4597123033
#&gt; 677   0.0869039227
#&gt; 678  -0.0976008547
#&gt; 679  -0.0067847655
#&gt; 680  -0.0826020983
#&gt; 681   0.2212547635
#&gt; 682   0.0206018883
#&gt; 683  -0.1399037990
#&gt; 684   0.0754232508
#&gt; 685  -0.0368454143
#&gt; 686  -0.0020299488
#&gt; 687   0.1139486880
#&gt; 688   0.1629331981
#&gt; 689  -0.1706293842
#&gt; 690  -0.1950772005
#&gt; 691  -0.0202748527
#&gt; 692  -0.0519230237
#&gt; 693   0.1441149148
#&gt; 694  -0.0960226238
#&gt; 695   0.1280166431
#&gt; 696  -0.2149609253
#&gt; 697  -0.2750158701
#&gt; 698  -0.2500935165
#&gt; 699   0.3696161126
#&gt; 700   0.0086671671
#&gt; 701   0.1419459410
#&gt; 702   0.0292473494
#&gt; 703   0.2466717634
#&gt; 704  -0.0476295135
#&gt; 705   0.1450479855
#&gt; 706   0.2367890456
#&gt; 707   0.3530504910
#&gt; 708   0.0340694547
#&gt; 709   0.1934399352
#&gt; 710   0.1384386332
#&gt; 711  -0.1514716560
#&gt; 712   0.1219815870
#&gt; 713   0.1867258884
#&gt; 714   0.1524073712
#&gt; 715  -0.1118568812
#&gt; 716   0.0359502981
#&gt; 717  -0.2984068584
#&gt; 718  -0.3073529257
#&gt; 719  -0.3173316959
#&gt; 720   0.0059950040
#&gt; 721   0.2351591854
#&gt; 722  -0.0874324854
#&gt; 723  -0.0936227155
#&gt; 724   0.1293866093
#&gt; 725   0.1531760165
#&gt; 726  -0.2492698945
#&gt; 727  -0.2049449530
#&gt; 728   0.0319273690
#&gt; 729   0.0262965660
#&gt; 730   0.0926613172
#&gt; 731   0.1018755651
#&gt; 732  -0.1136935844
#&gt; 733   0.2603502231
#&gt; 734   0.1321848337
#&gt; 735   0.1038872872
#&gt; 736  -0.1338976534
#&gt; 737   0.1668083945
#&gt; 738   0.0372574438
#&gt; 739   0.4340349051
#&gt; 740   0.0921349232
#&gt; 741  -0.0145435037
#&gt; 742   0.0984673643
#&gt; 743  -0.1568313425
#&gt; 744  -0.1027913245
#&gt; 745  -0.0869596806
#&gt; 746   0.0072893459
#&gt; 747   0.0406189738
#&gt; 748   0.1415221442
#&gt; 749  -0.0700483328
#&gt; 750  -0.2394140795
#&gt; 751  -0.0263801745
#&gt; 752   0.0415472526
#&gt; 753   0.0716520145
#&gt; 754   0.0084984480
#&gt; 755  -0.1925891219
#&gt; 756   0.0473480667
#&gt; 757  -0.0235670394
#&gt; 758   0.1653310019
#&gt; 759  -0.0452222612
#&gt; 760   0.0078176268
#&gt; 761  -0.1464895327
#&gt; 762   0.5312476217
#&gt; 763  -0.1160908340
#&gt; 764  -0.1600383067
#&gt; 765   0.0681017059
#&gt; 766   0.0214224459
#&gt; 767   0.3741719458
#&gt; 768   0.2773822020
#&gt; 769   0.1309486892
#&gt; 770   0.0512076676
#&gt; 771  -0.0415597770
#&gt; 772  -0.1275180476
#&gt; 773   0.1309410100
#&gt; 774   0.0423454784
#&gt; 775  -0.1107818107
#&gt; 776   0.0090302205
#&gt; 777  -0.1268238362
#&gt; 778  -0.0957018137
#&gt; 779   0.2380060342
#&gt; 780  -0.1427138315
#&gt; 781  -0.0276877660
#&gt; 782   0.1246623190
#&gt; 783  -0.2266881747
#&gt; 784   0.2591200128
#&gt; 785   0.0628712170
#&gt; 786   0.1846265545
#&gt; 787  -0.2292983020
#&gt; 788   0.0645254593
#&gt; 789   0.0890589660
#&gt; 790   0.1211545656
#&gt; 791  -0.1162635895
#&gt; 792  -0.0878920480
#&gt; 793   0.1161055848
#&gt; 794  -0.1271868073
#&gt; 795  -0.5357466469
#&gt; 796  -0.0683196621
#&gt; 797  -0.0058148723
#&gt; 798   0.0264593726
#&gt; 799  -0.3334679260
#&gt; 800  -0.1570616136
#&gt; 801   0.1531887187
#&gt; 802   0.0209689360
#&gt; 803  -0.2984728833
#&gt; 804   0.1566156904
#&gt; 805  -0.0969920482
#&gt; 806  -0.1417871289
#&gt; 807   0.1025117862
#&gt; 808  -0.1553780399
#&gt; 809   0.0426944621
#&gt; 810  -0.0682340685
#&gt; 811  -0.1007682400
#&gt; 812  -0.3812187732
#&gt; 813   0.1422234276
#&gt; 814   0.1777026539
#&gt; 815  -0.0761599218
#&gt; 816  -0.0296036305
#&gt; 817  -0.1260401690
#&gt; 818  -0.0818589168
#&gt; 819   0.2562787129
#&gt; 820   0.2182120804
#&gt; 821  -0.2361519321
#&gt; 822   0.2313335140
#&gt; 823  -0.1916767401
#&gt; 824   0.3876005422
#&gt; 825  -0.0924800867
#&gt; 826  -0.0300313426
#&gt; 827   0.0182330552
#&gt; 828   0.1184478226
#&gt; 829  -0.0412538550
#&gt; 830  -0.0492323827
#&gt; 831  -0.1845433441
#&gt; 832   0.1111719040
#&gt; 833  -0.2435464860
#&gt; 834  -0.0495444139
#&gt; 835   0.0934463141
#&gt; 836   0.1431322156
#&gt; 837   0.0707845227
#&gt; 838   0.0970734680
#&gt; 839  -0.0152122441
#&gt; 840   0.0304579849
#&gt; 841  -0.0470506131
#&gt; 842   0.2393385618
#&gt; 843   0.1144481899
#&gt; 844   0.0154101376
#&gt; 845  -0.0247985203
#&gt; 846   0.0902998658
#&gt; 847   0.1771276684
#&gt; 848   0.0667771418
#&gt; 849   0.0366777166
#&gt; 850  -0.1038161601
#&gt; 851  -0.3710275576
#&gt; 852  -0.3146589368
#&gt; 853   0.1867996953
#&gt; 854  -0.2921294053
#&gt; 855   0.0227268297
#&gt; 856   0.0185604258
#&gt; 857  -0.1131636590
#&gt; 858  -0.0200095382
#&gt; 859   0.2437382076
#&gt; 860  -0.1952083952
#&gt; 861  -0.0002667465
#&gt; 862   0.4769559869
#&gt; 863   0.2704138700
#&gt; 864   0.0162510873
#&gt; 865  -0.0419984514
#&gt; 866  -0.4199711300
#&gt; 867  -0.1492309707
#&gt; 868  -0.0655313198
#&gt; 869  -0.1662146610
#&gt; 870  -0.1535110897
#&gt; 871   0.0448167406
#&gt; 872   0.1680840350
#&gt; 873  -0.1755504484
#&gt; 874   0.0505410010
#&gt; 875  -0.0204140261
#&gt; 876  -0.1734006500
#&gt; 877  -0.0278969080
#&gt; 878  -0.0641039264
#&gt; 879  -0.0313990344
#&gt; 880   0.2573645539
#&gt; 881   0.1776244223
#&gt; 882   0.0705748627
#&gt; 883  -0.1064966677
#&gt; 884  -0.1419889191
#&gt; 885  -0.1901117944
#&gt; 886  -0.1819332041
#&gt; 887  -0.1600192038
#&gt; 888   0.2045522330
#&gt; 889   0.1250323958
#&gt; 890  -0.2944867122
#&gt; 891   0.0250830749
#&gt; 892  -0.0535179004
#&gt; 893   0.3335553760
#&gt; 894   0.2953718333
#&gt; 895   0.0609912152
#&gt; 896  -0.1645361234
#&gt; 897   0.0652596305
#&gt; 898   0.1120880353
#&gt; 899  -0.1331622100
#&gt; 900   0.0344841101
#&gt; 901   0.0095875975
#&gt; 902  -0.0523557882
#&gt; 903   0.0038774978
#&gt; 904  -0.0410253024
#&gt; 905  -0.0982256376
#&gt; 906  -0.0805484458
#&gt; 907  -0.1943909359
#&gt; 908   0.0984300121
#&gt; 909  -0.0205795418
#&gt; 910  -0.3731137150
#&gt; 911  -0.0298180070
#&gt; 912   0.0611427636
#&gt; 913   0.0734074428
#&gt; 914   0.0607531757
#&gt; 915  -0.1121860443
#&gt; 916   0.1097677654
#&gt; 917   0.1102080503
#&gt; 918   0.0312584056
#&gt; 919   0.1762747316
#&gt; 920  -0.0496887766
#&gt; 921  -0.4766195685
#&gt; 922   0.0867204241
#&gt; 923   0.1268917070
#&gt; 924   0.0478162926
#&gt; 925   0.2824491590
#&gt; 926  -0.0587243087
#&gt; 927  -0.1621904360
#&gt; 928   0.0360673449
#&gt; 929   0.2194787912
#&gt; 930  -0.0681487704
#&gt; 931   0.0650457853
#&gt; 932   0.2105203993
#&gt; 933   0.0935925008
#&gt; 934   0.2140229897
#&gt; 935  -0.0728844733
#&gt; 936  -0.4388810374
#&gt; 937  -0.0264509627
#&gt; 938  -0.0717243771
#&gt; 939  -0.0207046928
#&gt; 940  -0.0204902675
#&gt; 941   0.0692032429
#&gt; 942  -0.2699960361
#&gt; 943   0.1145571010
#&gt; 944  -0.1673929627
#&gt; 945  -0.0676114250
#&gt; 946  -0.2027226203
#&gt; 947  -0.3991851015
#&gt; 948   0.0321458821
#&gt; 949  -0.0635701768
#&gt; 950   0.0091932946
#&gt; 951  -0.0712185074
#&gt; 952   0.1610065216
#&gt; 953   0.3611998682
#&gt; 954  -0.1633798476
#&gt; 955   0.0117241448
#&gt; 956   0.1851592423
#&gt; 957  -0.1513878897
#&gt; 958  -0.0740199961
#&gt; 959  -0.1068841126
#&gt; 960  -0.1857679736
#&gt; 961  -0.2932064550
#&gt; 962   0.0054797313
#&gt; 963  -0.0346168674
#&gt; 964  -0.2660588713
#&gt; 965  -0.0407029368
#&gt; 966  -0.1419580782
#&gt; 967   0.3253149356
#&gt; 968   0.0968001227
#&gt; 969   0.1943709122
#&gt; 970  -0.0597008658
#&gt; 971  -0.0166499534
#&gt; 972  -0.0492944789
#&gt; 973   0.2718638197
#&gt; 974   0.2191976349
#&gt; 975  -0.1397646202
#&gt; 976  -0.2790767201
#&gt; 977   0.0664128256
#&gt; 978  -0.0843955618
#&gt; 979  -0.1169363006
#&gt; 980  -0.0369364409
#&gt; 981  -0.3683293691
#&gt; 982   0.1713585889
#&gt; 983  -0.0907452591
#&gt; 984   0.0041969205
#&gt; 985   0.3008580211
#&gt; 986   0.0062032641
#&gt; 987  -0.2211882676
#&gt; 988  -0.0590373488
#&gt; 989  -0.0607650539
#&gt; 990  -0.2382541459
#&gt; 991  -0.0049302636
#&gt; 992  -0.1740902849
#&gt; 993   0.0958654895
#&gt; 994   0.0170716102
#&gt; 995   0.0250880918
#&gt; 996  -0.1751640432
#&gt; 997   0.0902836055
#&gt; 998   0.1166384356
#&gt; 999   0.0171806104
#&gt; 1000  0.3115360763</code></pre>
<p>And plot it:</p>
<pre class="r"><code>gf_histogram( ~ result, data = samples2)</code></pre>
<p><img src="/post/2020-06-05-simulating-values-according-to-some-distribution_files/figure-html/unnamed-chunk-6-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="practical-example" class="section level1">
<h1>Practical example</h1>
<p>Here’s a dataset with the height and sex (and shoe size) of some students.</p>
<pre class="r"><code>data(wo_men, package = &quot;pradadata&quot;)</code></pre>
<p>According to this <a href="https://en.wikipedia.org/wiki/Average_human_height_by_country">source</a>, the average height among German men is about 1.75m. Unfortunately, there is no SD given, so we estimate from the SD from some other countries, at 0.07m (7cm).</p>
<p>Now, if our sample were drawn from this “typial German” distribution, how likely would it be to observe our empirical value?</p>
<pre class="r"><code>wo_men %&gt;% 
  filter(sex == &quot;man&quot;) %&gt;% 
  drop_na(height) %&gt;% 
  summarise(height_avg = mean(height),
            n_men = n())
#&gt; # A tibble: 1 x 2
#&gt;   height_avg n_men
#&gt;        &lt;dbl&gt; &lt;int&gt;
#&gt; 1       183.    18</code></pre>
<p>It may appear silly to draw samples in this case where the distribution is so simple and well-known. That’s true. However, in more complex scenarios – such as multivariate Normals – it’s a different story. What’s more, in some cases, we will not know the shape of the distribution, but we may well draw samples form it.</p>
<pre class="r"><code>samples3 &lt;- do(1000) * mean(rnorm(n = 18, mean = 175.4, sd = 7))</code></pre>
<pre class="r"><code>gf_histogram(~ mean, data = samples3) %&gt;% 
  gf_vline(xintercept = 183.11)</code></pre>
<p><img src="/post/2020-06-05-simulating-values-according-to-some-distribution_files/figure-html/unnamed-chunk-10-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>As can be seen, our value of 183cm occurs infrequently, hence we are in a position to reject the null.</p>
</div>

    </div>
  </article>

  
<section id="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var d = document, s = d.createElement('script');
    s.src = '//https-data-se-netlify-com.disqus.com/embed.js'; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>


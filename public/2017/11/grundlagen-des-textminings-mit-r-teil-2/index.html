

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.21 with theme Tranquilpeak 0.4.3-BETA">
    <title>Grundlagen des Textminings mit R - Teil 2</title>
    <meta name="author" content="Sebastian Sauer">
    <meta name="keywords" content=", rstats, datascience">

    <link rel="icon" href="/favicon.png">
    

    
    <meta name="description" content="In dieser Übung benötigte R-Pakete:
library(tidyverse) # Datenjudo library(stringr) # Textverarbeitung library(tidytext) # Textmining library(lsa) # Stopwörter library(SnowballC) # Wörter trunkieren library(wordcloud) # Wordcloud anzeigen library(skimr) # Überblicksstatistiken Aus dem letzten Post Daten einlesen:
osf_link &lt;- paste0(&quot;https://osf.io/b35r7//?action=download&quot;) afd &lt;- read_csv(osf_link) Aus breit mach lang:
afd %&gt;% unnest_tokens(output = token, input = content) %&gt;% dplyr::filter(str_detect(token, &quot;[a-z]&quot;)) -&gt; afd_long Stopwörter entfernen:
data(stopwords_de, package = &quot;lsa&quot;) stopwords_de &lt;- data_frame(word = stopwords_de) # Für das Joinen werden gleiche Spaltennamen benötigt stopwords_de &lt;- stopwords_de %&gt;% rename(token = word) afd_long %&gt;% anti_join(stopwords_de) -&gt; afd_no_stop Wörter zählen:">
    <meta property="og:description" content="In dieser Übung benötigte R-Pakete:
library(tidyverse) # Datenjudo library(stringr) # Textverarbeitung library(tidytext) # Textmining library(lsa) # Stopwörter library(SnowballC) # Wörter trunkieren library(wordcloud) # Wordcloud anzeigen library(skimr) # Überblicksstatistiken Aus dem letzten Post Daten einlesen:
osf_link &lt;- paste0(&quot;https://osf.io/b35r7//?action=download&quot;) afd &lt;- read_csv(osf_link) Aus breit mach lang:
afd %&gt;% unnest_tokens(output = token, input = content) %&gt;% dplyr::filter(str_detect(token, &quot;[a-z]&quot;)) -&gt; afd_long Stopwörter entfernen:
data(stopwords_de, package = &quot;lsa&quot;) stopwords_de &lt;- data_frame(word = stopwords_de) # Für das Joinen werden gleiche Spaltennamen benötigt stopwords_de &lt;- stopwords_de %&gt;% rename(token = word) afd_long %&gt;% anti_join(stopwords_de) -&gt; afd_no_stop Wörter zählen:">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Grundlagen des Textminings mit R - Teil 2">
    <meta property="og:url" content="/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
    <meta property="og:site_name" content="Data Se">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Data Se">
    <meta name="twitter:description" content="In dieser Übung benötigte R-Pakete:
library(tidyverse) # Datenjudo library(stringr) # Textverarbeitung library(tidytext) # Textmining library(lsa) # Stopwörter library(SnowballC) # Wörter trunkieren library(wordcloud) # Wordcloud anzeigen library(skimr) # Überblicksstatistiken Aus dem letzten Post Daten einlesen:
osf_link &lt;- paste0(&quot;https://osf.io/b35r7//?action=download&quot;) afd &lt;- read_csv(osf_link) Aus breit mach lang:
afd %&gt;% unnest_tokens(output = token, input = content) %&gt;% dplyr::filter(str_detect(token, &quot;[a-z]&quot;)) -&gt; afd_long Stopwörter entfernen:
data(stopwords_de, package = &quot;lsa&quot;) stopwords_de &lt;- data_frame(word = stopwords_de) # Für das Joinen werden gleiche Spaltennamen benötigt stopwords_de &lt;- stopwords_de %&gt;% rename(token = word) afd_long %&gt;% anti_join(stopwords_de) -&gt; afd_no_stop Wörter zählen:">
    
      <meta name="twitter:creator" content="@sauer_sebastian">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/8851f7754d1792f008b8874cd258f5b7?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-99297878-1', 'auto');
ga('send', 'pageview');
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Data Se</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/8851f7754d1792f008b8874cd258f5b7?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/8851f7754d1792f008b8874cd258f5b7?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Sebastian Sauer</h4>
        
          <h5 class="sidebar-profile-bio"><strong>Data Scie</strong>nce blog of Sebastian Sauer</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sebastiansauer">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Grundlagen des Textminings mit R - Teil 2
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-11-28T00:00:00Z">
        
  November 28, 2017

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/rstats">rstats</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>In dieser Übung benötigte R-Pakete:</p>
<pre class="r"><code>library(tidyverse)  # Datenjudo
library(stringr)  # Textverarbeitung
library(tidytext)  # Textmining
library(lsa)  # Stopwörter 
library(SnowballC)  # Wörter trunkieren
library(wordcloud)  # Wordcloud anzeigen
library(skimr)  # Überblicksstatistiken</code></pre>
<div id="aus-dem-letzten-post" class="section level2">
<h2>Aus dem letzten Post</h2>
<p>Daten einlesen:</p>
<pre class="r"><code>osf_link &lt;- paste0(&quot;https://osf.io/b35r7//?action=download&quot;)
afd &lt;- read_csv(osf_link)</code></pre>
<p>Aus breit mach lang:</p>
<pre class="r"><code>afd %&gt;% 
  unnest_tokens(output = token, input = content) %&gt;% 
  dplyr::filter(str_detect(token, &quot;[a-z]&quot;)) -&gt; afd_long</code></pre>
<p>Stopwörter entfernen:</p>
<pre class="r"><code>data(stopwords_de, package = &quot;lsa&quot;)

stopwords_de &lt;- data_frame(word = stopwords_de)

# Für das Joinen werden gleiche Spaltennamen benötigt
stopwords_de &lt;- stopwords_de %&gt;% 
  rename(token = word)  

afd_long %&gt;% 
  anti_join(stopwords_de) -&gt; afd_no_stop</code></pre>
<p>Wörter zählen:</p>
<pre class="r"><code>afd_no_stop %&gt;% 
  count(token, sort = TRUE) -&gt; afd_count</code></pre>
<p>Wörter trunkieren:</p>
<pre class="r"><code>afd_no_stop %&gt;% 
  mutate(token_stem = wordStem(.$token, language = &quot;de&quot;)) %&gt;% 
  count(token_stem, sort = TRUE) -&gt; afd_count_stemmed</code></pre>
</div>
<div id="regex" class="section level2">
<h2>Regulärausdrücke</h2>
<p>Das <code>&quot;[a-z]&quot;</code> in der Syntax oben steht für “alle Buchstaben von a-z”. Diese flexible Art von “String-Verarbeitung mit Jokern” nennt man <em>Regulärausdrücke</em> (regular expressions; regex). Es gibt eine ganze Reihe von diesen Regulärausdrücken, die die Verarbeitung von Texten erleichert. Mit dem Paket <code>stringr</code> geht das - mit etwas Übung - gut von der Hand. Nehmen wir als Beispiel den Text eines Tweets:</p>
<pre class="r"><code>string &lt;-&quot;Correlation of unemployment and #AfD votes at #btw17: ***r = 0.18***\n\nhttps://t.co/YHyqTguVWx&quot;  </code></pre>
<p>Möchte man Ziffern identifizieren, so hilft der Reulärausdruck <code>[:digit:]</code>:</p>
<p>“Gibt es mindestens eine Ziffer in dem String?”</p>
<pre class="r"><code>str_detect(string, &quot;[:digit:]&quot;)
#&gt; [1] TRUE</code></pre>
<p>“Finde die Position der ersten Ziffer! Welche Ziffer ist es?”</p>
<pre class="r"><code>str_locate(string, &quot;[:digit:]&quot;)
#&gt;      start end
#&gt; [1,]    51  51
str_extract(string, &quot;[:digit:]&quot;)
#&gt; [1] &quot;1&quot;</code></pre>
<p>“Finde alle Ziffern!”</p>
<pre class="r"><code>str_extract_all(string, &quot;[:digit:]&quot;)
#&gt; [[1]]
#&gt; [1] &quot;1&quot; &quot;7&quot; &quot;0&quot; &quot;1&quot; &quot;8&quot;</code></pre>
<p>“Finde alle Stellen an denen genau 2 Ziffern hintereinander folgen!”</p>
<pre class="r"><code>str_extract_all(string, &quot;[:digit:]{2}&quot;)
#&gt; [[1]]
#&gt; [1] &quot;17&quot; &quot;18&quot;</code></pre>
<p>Der Quantitätsoperator <code>{n}</code> findet alle Stellen, in der der der gesuchte Ausdruck genau <span class="math inline">\(n\)</span> mal auftaucht.</p>
<p>“Gebe die Hashtags zurück!”</p>
<pre class="r"><code>str_extract_all(string, &quot;#[:alnum:]+&quot;)
#&gt; [[1]]
#&gt; [1] &quot;#AfD&quot;   &quot;#btw17&quot;</code></pre>
<p>Der Operator <code>[:alnum:]</code> steht für “alphanumerischer Charakter” - also eine Ziffer oder ein Buchstabe; synonym hätte man auch <code>\\w</code> schreiben können (w wie word). Warum werden zwei Backslashes gebraucht? Mit <code>\\w</code> wird signalisiert, dass nicht der Buchstabe <em>w</em>, sondern etwas Besonderes, eben der Regex-Operator <code>\w</code> gesucht wird.</p>
<p>“Gebe URLs zurück!”</p>
<pre class="r"><code>str_extract_all(string, &quot;https?://[:graph:]+&quot;)
#&gt; [[1]]
#&gt; [1] &quot;https://t.co/YHyqTguVWx&quot;</code></pre>
<p>Das Fragezeichen <code>?</code> ist eine Quantitätsoperator, der einen Treffer liefert, wenn das vorherige Zeichen (hier <em>s</em>) null oder einmal gefunden wird. <code>[:graph:]</code> ist die Summe von <code>[:alpha:]</code> (Buchstaben, groß und klein), <code>[:digit:]</code> (Ziffern) und <code>[:punct:]</code> (Satzzeichen u.ä.).</p>
<p>“Zähle die Wörter im String!”</p>
<pre class="r"><code>str_count(string, boundary(&quot;word&quot;))
#&gt; [1] 13</code></pre>
<p>“Liefere nur Buchstaben<em>folgen</em> zurück, lösche alles übrige”</p>
<pre class="r"><code>str_extract_all(string, &quot;[:alpha:]+&quot;)
#&gt; [[1]]
#&gt;  [1] &quot;Correlation&quot;  &quot;of&quot;           &quot;unemployment&quot; &quot;and&quot;         
#&gt;  [5] &quot;AfD&quot;          &quot;votes&quot;        &quot;at&quot;           &quot;btw&quot;         
#&gt;  [9] &quot;r&quot;            &quot;https&quot;        &quot;t&quot;            &quot;co&quot;          
#&gt; [13] &quot;YHyqTguVWx&quot;</code></pre>
<p>Der Quantitätsoperator <code>+</code> liefert alle Stellen zurück, in denen der gesuchte Ausdruck <em>einmal oder häufiger</em> vorkommt. Die Ergebnisse werden als Vektor von Wörtern zurückgegeben. Ein anderer Quantitätsoperator ist <code>*</code>, der für 0 oder mehr Treffer steht. Möchte man einen Vektor, der aus Stringen-Elementen besteht zu einem Strring zusammenfüngen, hilft <code>paste(string)</code> oder <code>str_c(string, collapse = &quot; &quot;)</code>.</p>
<pre class="r"><code>str_replace_all(string, &quot;[^[:alpha:]+]&quot;, &quot;&quot;)
#&gt; [1] &quot;CorrelationofunemploymentandAfDvotesatbtwrhttpstcoYHyqTguVWx&quot;</code></pre>
<p>Mit dem Negationsoperator <code>[^x]</code> wird der Regulärausrck <code>x</code> negiert; die Syntax oben heißt also “ersetze in <code>string</code> alles außer Buchstaben durch Nichts”. Mit “Nichts” sind hier Strings der Länge Null gemeint; ersetzt man einen belieibgen String durch einen String der Länge Null, so hat man den String gelöscht.</p>
<p>Das Cheatsheet zur Strings bzw zu <code>stringr</code> von RStudio gibt einen guten Überblick über Regex; im Internet finden sich viele Beispiele.</p>
</div>
<div id="sentiment-analyse" class="section level2">
<h2>Sentiment-Analyse</h2>
<p>Eine weitere interessante Analyse ist, die “Stimmung” oder “Emotionen” (Sentiments) eines Textes auszulesen. Die Anführungszeichen deuten an, dass hier ein Maß an Verständnis suggeriert wird, welches nicht (unbedingt) von der Analyse eingehalten wird. Jedenfalls ist das Prinzip der Sentiment-Analyse im einfachsten Fall so:</p>

<div class="rmdpseudocode">
<p>Schau dir jeden Token aus dem Text an.<br />
Prüfe, ob sich das Wort im Lexikon der Sentiments wiederfindet.<br />
Wenn ja, dann addiere den Sentimentswert dieses Tokens zum bestehenden Sentiments-Wert.<br />
Wenn nein, dann gehe weiter zum nächsten Wort.<br />
Liefere zum Schluss die Summenwerte pro Sentiment zurück.</p>
</div>

<p>Es gibt Sentiment-Lexika, die lediglich einen Punkt für “positive Konnotation” bzw. “negative Konnotation” geben; andere Lexiko weisen differenzierte Gefühlskonnotationen auf. Wir nutzen hier das Sentimentlexikon <code>sentiws</code>.</p>
<pre class="r"><code>data(sentiws, package = &quot;pradadata&quot;)</code></pre>
<p>Tabelle @ref(tab:afd_count) zeigt einen Ausschnitt aus dem Sentiment-Lexikon <em>SentiWS</em>.</p>
<table>
<caption><span id="tab:sentiws-head">Table 1: </span>Auszug aus SentiwS</caption>
<thead>
<tr class="header">
<th align="left">neg_pos</th>
<th align="left">word</th>
<th align="right">value</th>
<th align="left">inflections</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">neg</td>
<td align="left">Abbau</td>
<td align="right">-0.0580</td>
<td align="left">Abbaus,Abbaues,Abbauen,Abbaue</td>
</tr>
<tr class="even">
<td align="left">neg</td>
<td align="left">Abbruch</td>
<td align="right">-0.0048</td>
<td align="left">Abbruches,Abbrüche,Abbruchs,Abbrüchen</td>
</tr>
<tr class="odd">
<td align="left">neg</td>
<td align="left">Abdankung</td>
<td align="right">-0.0048</td>
<td align="left">Abdankungen</td>
</tr>
<tr class="even">
<td align="left">neg</td>
<td align="left">Abdämpfung</td>
<td align="right">-0.0048</td>
<td align="left">Abdämpfungen</td>
</tr>
<tr class="odd">
<td align="left">neg</td>
<td align="left">Abfall</td>
<td align="right">-0.0048</td>
<td align="left">Abfalles,Abfälle,Abfalls,Abfällen</td>
</tr>
<tr class="even">
<td align="left">neg</td>
<td align="left">Abfuhr</td>
<td align="right">-0.3367</td>
<td align="left">Abfuhren</td>
</tr>
</tbody>
</table>
<div id="ungewichtete-sentiment-analyse" class="section level3">
<h3>Ungewichtete Sentiment-Analyse</h3>
<p>Nun können wir jedes Token des Textes mit dem Sentiment-Lexikon abgleichen; dabei zählen wir die Treffer für positive bzw. negative Terme. Zuvor müssen wir aber noch die Daten (<code>afd_long</code>) mit dem Sentimentlexikon zusammenführen (joinen). Das geht nach bewährter Manier mit <code>inner_join</code>; “inner” sorgt dabei dafür, dass nur Zeilen behalten werden, die in beiden Dataframes vorkommen. Tabelle @ref(tab:afd_senti_tab) zeigt Summe, Anzahl und Anteil der Emotionswerte.</p>
<pre class="r"><code>afd_long %&gt;% 
  inner_join(sentiws, by = c(&quot;token&quot; = &quot;word&quot;)) %&gt;% 
  select(-inflections) -&gt; afd_senti  # die Spalte brauchen wir nicht

afd_senti %&gt;% 
  group_by(neg_pos) %&gt;% 
  summarise(polarity_sum = sum(value),
            polarity_count = n()) %&gt;% 
  mutate(polarity_prop = (polarity_count / sum(polarity_count)) %&gt;% round(2)) -&gt; afd_senti_tab</code></pre>
<table>
<caption>(#tab:afd_senti_tab)Zusammenfassung von SentiWS</caption>
<thead>
<tr class="header">
<th align="left">neg_pos</th>
<th align="right">polarity_sum</th>
<th align="right">polarity_count</th>
<th align="right">polarity_prop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">neg</td>
<td align="right">-52.6461</td>
<td align="right">219</td>
<td align="right">0.27</td>
</tr>
<tr class="even">
<td align="left">pos</td>
<td align="right">29.6063</td>
<td align="right">586</td>
<td align="right">0.73</td>
</tr>
</tbody>
</table>
<p>Die Analyse zeigt, dass die emotionale Bauart des Textes durchaus interessant ist: Es gibt viel mehr positiv getönte Wörter als negativ getönte. Allerdings sind die negativen Wörter offenbar deutlich stärker emotional aufgeladen, dennn die Summe an Emotionswert der negativen Wörter ist überraschenderweise deutlich größer als die der positiven.</p>
<p>Betrachten wir also die intensivsten negativ und positive konnotierten Wörter näher.</p>
<pre class="r"><code>afd_senti %&gt;% 
  distinct(token, .keep_all = TRUE) %&gt;% 
  mutate(value_abs = abs(value)) %&gt;% 
  top_n(20, value_abs) %&gt;% 
  pull(token)
#&gt;  [1] &quot;ungerecht&quot;    &quot;besonders&quot;    &quot;gefährlich&quot;   &quot;überflüssig&quot; 
#&gt;  [5] &quot;behindern&quot;    &quot;gefährden&quot;    &quot;brechen&quot;      &quot;unzureichend&quot;
#&gt;  [9] &quot;gemein&quot;       &quot;verletzt&quot;     &quot;zerstören&quot;    &quot;trennen&quot;     
#&gt; [13] &quot;falsch&quot;       &quot;vermeiden&quot;    &quot;zerstört&quot;     &quot;schwach&quot;     
#&gt; [17] &quot;belasten&quot;     &quot;schädlich&quot;    &quot;töten&quot;        &quot;verbieten&quot;</code></pre>
<p>Diese “Hitliste” wird zumeist (19/20) von negativ polarisierten Begriffen aufgefüllt, wobei “besonders” ein Intensivierwort ist, welches das Bezugswort verstärt (“besonders gefährlich”). Das Argument <code>keep_all = TRUE</code> sorgt dafür, dass alle Spalten zurückgegeben werden, nicht nur die durchsuchte Spalte <code>token</code>. Mit <code>pull</code> haben wir aus dem Dataframe, der von den dplyr-Verben überwegeben wird, die Spalte <code>pull</code> “herausgezogen”; hier nur um Platz zu sparen bzw. der Übersichtlichkeit halber.</p>
<p>Nun könnte man noch den erzielten “Netto-Sentimentswert” des Corpus ins Verhältnis setzen Sentimentswert des Lexikons: Wenn es insgesamt im Sentiment-Lexikon sehr negativ zuginge, wäre ein negativer Sentimentwer in einem beliebigen Corpus nicht überraschend. <code>skimr::skim()</code> gibt uns einen Überblick der üblichen deskriptiven Statistiken.</p>
<pre class="r"><code>sentiws %&gt;% 
  select(value, neg_pos) %&gt;% 
  #group_by(neg_pos) %&gt;% 
  skim()</code></pre>
<p>Insgesamt ist das Lexikon ziemlich ausgewogen; negative Werte sind leicht in der Überzahl im Lexikon. Unser Corpus hat eine ähnliche mittlere emotionale Konnotation wie das Lexikon:</p>
<pre class="r"><code>afd_senti %&gt;% 
  summarise(senti_sum = mean(value) %&gt;% round(2))
#&gt; # A tibble: 1 x 1
#&gt;   senti_sum
#&gt;       &lt;dbl&gt;
#&gt; 1     -0.03</code></pre>
</div>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/rstats/">rstats</a>

  <a class="tag tag--primary tag--small" href="/tags/textmining/">textmining</a>

  <a class="tag tag--primary tag--small" href="/tags/german/">German</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/11/textmining-grundlagen/" data-tooltip="Grundlagen des Textminings mit R">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/11/image-path-for-blogdown/" data-tooltip="Image path for blogdown">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2017 <a Sebastian Sauer CC-BY-SA 4.0 </a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/11/textmining-grundlagen/" data-tooltip="Grundlagen des Textminings mit R">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/11/image-path-for-blogdown/" data-tooltip="Image path for blogdown">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2017%2F11%2Fgrundlagen-des-textminings-mit-r-teil-2%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2017%2F11%2Fgrundlagen-des-textminings-mit-r-teil-2%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2017%2F11%2Fgrundlagen-des-textminings-mit-r-teil-2%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/8851f7754d1792f008b8874cd258f5b7?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Sebastian Sauer</h4>
    
      <div id="about-card-bio"><strong>Data Scie</strong>nce blog of Sebastian Sauer</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Data enthusiast
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Nuremberg
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/textmining-grundlagen/">
                <h3 class="media-heading">Grundlagen des Textminings mit R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Lernziele:
  - Sie kennen zentrale Ziele und Begriffe des Textminings. - Sie wissen, was ein &#39;tidy text dataframe&#39; ist. - Sie können Worthäufigkeiten auszählen. - Sie können Worthäufigkeiten anhand einer Wordcloud visualisieren. In dieser Übung benötigte R-Pakete:
library(tidyverse) # Datenjudo library(stringr) # Textverarbeitung library(tidytext) # Textmining library(lsa) # Stopwörter library(SnowballC) # Wörter trunkieren library(wordcloud) # Wordcloud anzeigen  Bitte installieren Sie rechtzeitig alle Pakete, z.B. in RStudio über den Reiter Packages … Install.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/grundlagen-des-textminings-mit-r-teil-2/">
                <h3 class="media-heading">Grundlagen des Textminings mit R - Teil 2</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">In dieser Übung benötigte R-Pakete:
library(tidyverse) # Datenjudo library(stringr) # Textverarbeitung library(tidytext) # Textmining library(lsa) # Stopwörter library(SnowballC) # Wörter trunkieren library(wordcloud) # Wordcloud anzeigen library(skimr) # Überblicksstatistiken Aus dem letzten Post Daten einlesen:
osf_link &lt;- paste0(&quot;https://osf.io/b35r7//?action=download&quot;) afd &lt;- read_csv(osf_link) Aus breit mach lang:
afd %&gt;% unnest_tokens(output = token, input = content) %&gt;% dplyr::filter(str_detect(token, &quot;[a-z]&quot;)) -&gt; afd_long Stopwörter entfernen:
data(stopwords_de, package = &quot;lsa&quot;) stopwords_de &lt;- data_frame(word = stopwords_de) # Für das Joinen werden gleiche Spaltennamen benötigt stopwords_de &lt;- stopwords_de %&gt;% rename(token = word) afd_long %&gt;% anti_join(stopwords_de) -&gt; afd_no_stop Wörter zählen:</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/image-path-for-blogdown/">
                <h3 class="media-heading">Image path for blogdown</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">How to include external images to a hugo post?
Suppose we have a file img1.png in project1, ie., project1/img1.png. Do this:
Copy your folder with images to static/. Use this path in your blogdown post: /project/img1.png.   Mind the leading slash!  Example time This code (on my machine) ![](/images/textmining/tidytext-crop.png){ width=&quot;20%&quot; }
renders this:
 Note the nice width option.
 Knitr way The knitr way works similarly:
knitr::include_graphics(&quot;/images/textmining/tidytext-crop.png&quot;)  </div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/test/">
                <h3 class="media-heading">test</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"> knitr way
knitr::include_graphics(&quot;/images/textmining/tidytext-crop.png&quot;) </div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/dummy-variables-and-regression/">
                <h3 class="media-heading">Dummy variables and regression</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">For modeling cause-effect relationships, linear regression is among the most typically used methods.
Take, for example, the idea that the Gross Domestic Product (GDP) drives religiosity. Of course, we should have a strong theory that defends this choice and this directionality. Without a convincing theory it may be argued that the cause-relationship is the other way round or complete different (ie., some third variable accounts for any association between GDP and religiosity).</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/interactive-diagrams-in-lieu-of-shiny/">
                <h3 class="media-heading">Interactive diagrams in lieu of shiny?</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">One frequent use of the Shiny server software is displaying interactive data diagrams. The pro of using Shiny is the great flexibility; much more than “just graphics” can be done.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/my-favorite-stats-text-book/">
                <h3 class="media-heading">My favorite stats text book</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Some thoughts how my favorite applied stats text book would look like. I am looking at eg., business fields such as MBA as consumers.
My ideal applied stats text book is case study oriented (“Assume you would like to predict which movie will score highest next year based on some movie characteristics you know”)
 makes use of recent data analytics techniques such as tree based methods (Random Forests) or Shrinkage models (Lasso)</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/use-case-for-purrr-map/">
                <h3 class="media-heading">Use case for purrr::map</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">library(tidyverse) d &lt;- data_frame( id = c(1,1,1,1,1,1,2,2,3,3,3,4,1,2,2) ) d$id %&gt;% map </div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/compute-effect-sizes-with-r-a-primer/">
                <h3 class="media-heading">Compute effect sizes with R. A primer.</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">A typical “cook book recipe” for doing data analysis is an applied stats course is:
report descriptive statistics plot some nice diagrams test hypothesis report effect sizes  Let’s have a quick glance at these steps. We will use the dataset flights of the package nycflights13.
data(flights, package = &quot;nycflights13&quot;) This post will be tidyverse-driven.
library(tidyverse) library(skimr) library(mosaic) Let’s compute some summaries:
flights %&gt;% select(arr_delay) %&gt;% skim #&gt; Skim summary statistics #&gt; n obs: 336776 #&gt; n variables: 1 #&gt; #&gt; Variable type: numeric #&gt; var missing complete n mean sd min p25 median p75 max #&gt; 1 arr_delay 9430 327346 336776 6.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/get-your-stats-result-in-a-table-easily/">
                <h3 class="media-heading">Get your stats result in a table easily</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Having computed some staticis, one would like to display them. Either in a figure, on in a table, that’s the two typical ways.
Let’s explore some helper functions to get your stats to a table easily.
A nice overview on packages can be found here.
Let’s have a quick glance at these steps. We will use the dataset flights of the package nycflights13.
data(flights, package = &quot;nycflights13&quot;) This post will be tidyverse-driven:</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         144 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('/images/wildblue.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2017\/11\/grundlagen-des-textminings-mit-r-teil-2\/';
          
            this.page.identifier = '\/2017\/11\/grundlagen-des-textminings-mit-r-teil-2\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'https-sebastiansauer-github-io';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>


<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.21" />


<title>Identifying the package of a function - Data Se - Data Science Blog of Sebastian Sauer</title>
<meta property="og:title" content="Identifying the package of a function - Data Se - Data Science Blog of Sebastian Sauer">



  








<link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://github.com/rstudio/blogdown">GitHub</a></li>
    
    <li><a href="https://twitter.com/sauer_sebastian">Twitter</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">3 min read</span>
    

    <h1 class="article-title">Identifying the package of a function</h1>

    
    <span class="article-date">2017/06/12</span>
    

    <div class="article-content">
      

<h1 id="tl-dr">tl;dr</h1>

<p>Suppose you want to know which package(s) a given R function belongs to, say <code>filter</code>. Here come <code>find_funs</code>to help you:</p>

<pre><code class="language-r">find_funs(&quot;filter&quot;)
</code></pre>

<pre><code>## # A tibble: 4 x 3
##   package_name builtin_pckage loaded
##          &lt;chr&gt;          &lt;lgl&gt;  &lt;lgl&gt;
## 1         base           TRUE   TRUE
## 2        dplyr          FALSE   TRUE
## 3       plotly          FALSE  FALSE
## 4        stats           TRUE   TRUE
</code></pre>

<p>This function will search all <em>installed</em> packages for this function name. It will return all the package names that match the function name (ie., packages which include a function by the respective name). In addition, the function raises a flag as to whether the packages is a standard (built-in) packge and whether the package is currently loaded/attached.</p>

<p>For convenience this function can be sourced like this:</p>

<pre><code>source(&quot;https://sebastiansauer.github.io/Rcode/find_funs.R&quot;)
</code></pre>

<h1 id="usecase">Usecase</h1>

<p>Sometimes it is helpful to know in which R package a function &lsquo;resides&rsquo;. For example, <code>ggplot</code> comes from the package <code>ggplot2</code>, and <code>select</code> is a function that can be located in the package <code>dplyr</code> (among other packages). Especially if a function has a common name name clases are bound to be experienced. For a example, I was bitten by <code>filter</code> a couple of times - not reckognizing that the function <code>filter</code> that was applied did not come from <code>dplyr</code> as intended but from some other package.</p>

<p>Additionally, sometimes we have in mind &lsquo;oh I should make use of this function <code>filter</code> here&rsquo;, but cannot remember which package should be loaded for that function.</p>

<p>A number of ways exist to address this question. Our convenience function here takes the name of the function for which we search its residential package as its input (that&rsquo;s the only parameter). The function will then return the one more packgages in which the function was found. In addition, it returns for each package found whether that package comes with standard R (is &lsquo;built-in&rsquo;). That information can be useful to know whether someone needs to install a package in order to use some function. The function also returns whether the function is currently loaded.</p>

<h1 id="code">Code</h1>

<pre><code class="language-r">find_funs &lt;- function(f) {
  # Returns dataframe with two columns:
    # `package_name`: packages(s) which the function is part of (chr)
    # `builtin_package`:  whether the package comes with standard R (a 'builtin'  package)

  # Arguments:
    # f: name of function for which the package(s) are to be identified.


  if (&quot;tidyverse&quot; %in% rownames(installed.packages()) == FALSE) {
    cat(&quot;tidyverse is needed for this fuction. Please install. Stopping&quot;)
    stop()}

  suppressMessages(library(tidyverse))


  # search for help in list of installed packages
  help_installed &lt;- help.search(paste0(&quot;^&quot;,f,&quot;$&quot;), agrep = FALSE)

  # extract package name from help file
  pckg_hits &lt;- help_installed$matches[,&quot;Package&quot;]

  if (length(pckg_hits) == 0) pckg_hits &lt;- &quot;No_results_found&quot;


  # get list of built-in packages

  pckgs &lt;- installed.packages()  %&gt;% as_tibble
  pckgs %&gt;%
    dplyr::filter(Priority %in% c(&quot;base&quot;,&quot;recommended&quot;)) %&gt;%
    dplyr::select(Package) %&gt;%
    distinct -&gt; builtin_pckgs_df

  # check for each element of 'pckg hit' whether its built-in and loaded (via match). Then print results.

  results &lt;- data_frame(
    package_name = pckg_hits,
    builtin_pckage = match(pckg_hits, builtin_pckgs_df$Package, nomatch = 0) &gt; 0,
    loaded = match(paste(&quot;package:&quot;,pckg_hits, sep = &quot;&quot;), search(), nomatch = 0) &gt; 0
  )

  return(results)

}
</code></pre>

<h1 id="example">Example</h1>

<pre><code class="language-r">find_funs(&quot;filter&quot;)
</code></pre>

<pre><code>## # A tibble: 4 x 3
##   package_name builtin_pckage loaded
##          &lt;chr&gt;          &lt;lgl&gt;  &lt;lgl&gt;
## 1         base           TRUE   TRUE
## 2        dplyr          FALSE   TRUE
## 3       plotly          FALSE  FALSE
## 4        stats           TRUE   TRUE
</code></pre>

<h1 id="convenience-access">Convenience access</h1>

<p>For convenience this function can be sourced like this:</p>

<pre><code class="language-r">source(&quot;https://sebastiansauer.github.io/Rcode/find_funs.R&quot;)
</code></pre>

<h1 id="notes">Notes</h1>

<p><code>tidyverse</code> needs to installed to run this code. <code>tidyverse</code> is loaded quietly. The function will return an empty dataframe if no target package is found.</p>

<h1 id="acknowledgements">Acknowledgements</h1>

<p>This function was inspired by code from <a href="https://stackoverflow.com/questions/10553755/name-of-a-package-for-a-given-function-in-r">Ben Bolker&rsquo;s</a> post on SO.</p>

    </div>
  </article>

  
<section id="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var d = document, s = d.createElement('script');
    s.src = '//https-sebastiansauer-github-io.disqus.com/embed.js'; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-99297878-1', 'auto');
ga('send', 'pageview');
</script>

  </body>
</html>


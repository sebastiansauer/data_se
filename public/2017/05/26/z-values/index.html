<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>mean and sd of z-values</title>
  <meta property="og:title" content="mean and sd of z-values" />
  <meta name="twitter:title" content="mean and sd of z-values" />
  <meta name="description" content="Edit: This post was updated, including two errors fixed - thanks to (private) comments from Norman Markgraf.
z-values, aka values coming from an z-transformation are a frequent creature in statistics land. Among their properties are the following:
 mean is zero variance is one (and hence sd is one)  But why is that? How come that this two properties are true? The goal of this post is to shed light on these two properties of z-values.">
  <meta property="og:description" content="Edit: This post was updated, including two errors fixed - thanks to (private) comments from Norman Markgraf.
z-values, aka values coming from an z-transformation are a frequent creature in statistics land. Among their properties are the following:
 mean is zero variance is one (and hence sd is one)  But why is that? How come that this two properties are true? The goal of this post is to shed light on these two properties of z-values.">
  <meta name="twitter:description" content="Edit: This post was updated, including two errors fixed - thanks to (private) comments from Norman Markgraf.
z-values, aka values coming from an z-transformation are a frequent creature in statistics â€¦">
  <meta name="author" content="Sebastiuan Sauer"/>
  <link href='/img/logo-data-se.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/img/logo-data-se.png" />
  <meta name="twitter:image" content="/img/logo-data-se.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@sauer_sebasitan" />
  <meta name="twitter:creator" content="@sauer_sebasitan" />
  <meta property="og:url" content="/2017/05/26/z-values/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Data Se" />

  <meta name="generator" content="Hugo 0.21" />
  <link rel="canonical" href="/2017/05/26/z-values/" />
  <link rel="alternate" href="" type="application/rss+xml" title="Data Se">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="/css/highlighting.css" />
  <link rel="stylesheet" href="/css/pygment_highlights.css" />
  <link rel="stylesheet" href="/css/highlight.min.css" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-99297878-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Data Se</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Data Se" href="/">
            <img class="avatar-img" src="/img/logo-data-se.png" alt="Data Se" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>mean and sd of z-values</h1>
                
                
                  <span class="post-meta">
  Posted on May 26, 2017
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<p><em>Edit</em>: This post was updated, including two errors fixed - thanks to (private) comments from <a href="http://www.sefiroth.net/npb/">Norman Markgraf</a>.</p>

<p>z-values, aka values coming from an z-transformation are a frequent creature in statistics land. Among their properties are the following:</p>

<ol>
<li>mean is zero</li>
<li>variance is one (and hence sd is one)</li>
</ol>

<p>But why is that? How come that this two properties are true? The goal of this post is to shed light on these two properties of z-values.</p>

<h1 id="mean-value-of-z-value-is-zero">Mean value of z-value is zero</h1>

<p>There are a number of ways to explain this fact.</p>

<p>One is that it is one feature of mean values that the sum of the differences of the mean is zero. z-values tell nothing but the difference to the mean (in relation to the SD of the distribution). Hence, once you realize that the mean z-value is nothing but some mean value, you will see that the mean of a distribution/sample in z-values equals zero.</p>

<h2 id="intuition">Intuition</h2>

<p>Look at the following codea and diagram as an intuition:</p>

<pre><code class="language-r">library(tidyverse)

mtcars %&gt;% 
  select(cyl) %&gt;% 
  slice(1:10) %&gt;% 
  mutate(cyl_mean = mean(cyl),
         diff = cyl - cyl_mean) %&gt;% 
  summarise(sum(diff))
</code></pre>

<pre><code>##      sum(diff)
## 1 1.776357e-15
</code></pre>

<p>So our sum of the <code>diff</code> values is (practically) zero.</p>

<pre><code class="language-r">mtcars %&gt;% 
  rownames_to_column %&gt;% 
  select(cyl, rowname) %&gt;% 
  slice(1:10) %&gt;% 
  mutate(cyl_mean = mean(cyl),
         diff = cyl - cyl_mean,
         sign_diff = sign(diff)) %&gt;% 
  ggplot() +
  aes(x = rowname, y = diff) +
  geom_col(aes(fill = factor(sign_diff))) +
  coord_flip() +
  guides(fill = FALSE)
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2017-05-26/figure/unnamed-chunk-2-1.png" title="plot of chunk unnamed-chunk-2" alt="plot of chunk unnamed-chunk-2" width="70%" /></p>

<p>The diagram above is meant to give an impression that the negative and positive differences to the mean &ldquo;cancel out&rdquo;, ie., sum up to zero. Put pluntly: First, concatenate the red bars. Then, concatenate the magenta bars. You will find the total red bar and the total magenta bar are of the same length.</p>

<p>One further visualization:</p>

<pre><code class="language-r">cyl_mean &lt;- mean(mtcars[1:10, &quot;cyl&quot;])

mtcars %&gt;% 
  rownames_to_column %&gt;% 
  select(cyl, rowname) %&gt;% 
  slice(1:10) %&gt;% 
  mutate(cyl_mean = mean(cyl),
         diff = cyl - cyl_mean,
         sign_diff = sign(diff),
         ID = 1:10) %&gt;% 
  ggplot() +
  aes(x = ID, y = cyl) +
  geom_col(aes(fill = factor(sign_diff))) +
  coord_flip() +
  guides(fill = FALSE) +
  geom_hline(yintercept = cyl_mean) +
  geom_rect(aes(xmin = ID-.45, xmax = ID+.45,
                ymin = cyl_mean,
                ymax = cyl_mean + diff
               ),
            alpha = .7) +
  scale_x_continuous(breaks = 1:10)
</code></pre>

<p><img src="https://sebastiansauer.github.io/images/2017-05-26/figure/unnamed-chunk-3-1.png" title="plot of chunk unnamed-chunk-3" alt="plot of chunk unnamed-chunk-3" width="70%" /></p>

<p>Saying that the differences of the values to the mean sum up amounts to saying that the &ldquo;negative bars&rdquo; (starting at the vertical mean line at about 5.8) are of equal length if concatenated as the &ldquo;positive bars&rdquo; (again starting at the vertical line), concatenated.</p>

<h2 id="more-formally">More formally</h2>

<p>More formally, let $$X$$ be some numeric variable, and $$\bar{x}$$ the respective arithmetic mean, then $$\sum{(X_i - \bar{x}}) = 0$$.</p>

<p>But <em>why</em> does this equation hold? And how does this apply to z-values?</p>

<p>Let&rsquo;s look at some algebra:</p>

<p>$$\bar{z}<em>x = $$
$$\frac{1}{n}\sum{z</em>{xi}} = $$
$$ \frac{1}{n}\sum{\frac{x_i- \bar{x}}{sd_x}} =$$
$$\frac{1}{n} sd^-1 \underbrace{\sum{(x<em>i - \bar{x})}}</em>{\text{0}} = 0$$</p>

<p>But the sum of the differences to the mean ($$\sum{(x_i - \bar{x})}$$) is zero. Hence, the whole term is zero. That&rsquo;s why (that&rsquo;s one reason hot to explain why) the mean of z-values is zero.</p>

<p>But&hellip; why is the sum of differences from the mean equal to zero?</p>

<p>$$\sum{(x_i - \bar{x})} = \sum{x_i} - \sum{\bar{x}}=$$
$$ \sum{x_i} - n\bar{x} = \sum{x_i} - n \frac{\sum{x_i}}{n} = \sum{x_i} - \sum{x_i} = 0$$</p>

<h1 id="sd-of-z-values-is-one">SD of z-values is one</h1>

<p>Ok, maybe the mean value of z-values is zero. But <em>why</em> is the SD or the variance equal to one?</p>

<p>If the variance is one, we will agree that the sd is one, too, because the root of 1 is 1.</p>

<h2 id="intuition-1">Intuition</h2>

<p>Well, suppose you take all the differences $$d$$ from the mean and divide them by $$sd$$. Let&rsquo;s call the new differences $$d^{\prime}$$. Not very surprisingly, the $$sd$$ of $$d^{\prime}$$ will also change accordingly - multiplied by $$sd^{-1}$$, ie., $$sd^{\prime}$$ will be divided by the factor $$sd$$. And that yields 1.</p>

<h2 id="more-formally-1">More formally</h2>

<p>Let $$V(X)$$ be the variance (V) of some variable X, the remaining details are as above.</p>

<p>$$V{z<em>x} = \frac{1}{n} \sum{(z</em>{x_i} - \bar{z}_x)^2}=$$</p>

<p>But, $$\bar{z}_x = 0$$, as discussed above. Thus, the equation is shortened to:</p>

<p>$$  \frac{1}{n} \sum{(z_{x_i} - 0)^2}=$$</p>

<p>Now we replace $$z_{x_i}$$ by its definition.</p>

<p>$$ \frac{1}{n} \sum{\left( \frac{x_i - \bar{x}}{sd} \right)^2}=$$</p>

<p>Rearranging gives:</p>

<p>$$ \frac{1}{sd^2} \sum \frac{(x_i - \bar{x})^2}{n} =$$</p>

<p>which can be simplified to</p>

<p>$$ \frac{1}{V} V(X)=1$$</p>

<p>Thus, we see that the variance of z-values equals 1.</p>

<hr />

<p>Similarly, picking up the idea from the intuition above, note that</p>

<p>$$V(aX) = a^2V(X)$$</p>

<p>In other words, if we multiply our values (the $$x_i$$s) by some factor $$a$$, the resulting variance will increase by $$a^2$$. In case that the mean value is zero (as for z-values), then we may say that &ldquo;if we multiply our differences $$d$$ by some factor $$a$$, the variance will increase by $$a^2$$&rdquo;. Taking the root of the variance, we are left with the sd changed by factor $$a$$.</p>

      </article>

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="/../2017/05/24/plotting_s-curve/" data-toggle="tooltip" data-placement="top" title="Simple way of plotting normal/logistic/etc. curve">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="/../2017/06/05/ordering-bars/" data-toggle="tooltip" data-placement="top" title="Sorting the x-axis in bargraphs using ggplot2">Next Post &rarr;</a>
          </li>
        
      </ul>

      
        
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https-sebastiansauer-github-io';
    var disqus_identifier = '\/..\/2017\/05\/26\/z-values\/';
    var disqus_title = 'mean and sd of z-values';
    var disqus_url = '\/..\/2017\/05\/26\/z-values\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:ssauer@posteo.de" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/sebastian_sauer" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/sauer_sebasitan" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://reddit.com/u/username" title="Reddit">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-reddit-alien fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/https://www.linkedin.com/in/dr-sebastian-sauer-4791762/" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.xing.com/profile/https://www.xing.com/profile/Sebastian_Sauer2" title="Xing">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-xing fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="yourwebsite.com">Sebastiuan Sauer</a>
            
          

          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="/">Data Se</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.21</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>



  </body>
</html>

